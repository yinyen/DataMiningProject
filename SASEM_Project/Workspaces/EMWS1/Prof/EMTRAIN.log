*------------------------------------------------------------*
* Training Log
Date:                December 01, 2019
Time:                17:35:44
*------------------------------------------------------------*
14715  proc freq data=EMWS1.Prof_VariableSet noprint;
14716  table ROLE*LEVEL/out=WORK.ProfMETA;
14717  run;

NOTE: There were 49 observations read from the data set EMWS1.PROF_VARIABLESET.
NOTE: The data set WORK.PROFMETA has 10 observations and 4 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           0.15 seconds
      cpu time            0.01 seconds
      

14718  proc print data=WORK.ProfMETA label noobs;
14719  var ROLE LEVEL COUNT;
14720  label ROLE = "%sysfunc(sasmsg(sashelp.dmine, meta_role_vlabel, NOQUOTE))" LEVEL = "%sysfunc(sasmsg(sashelp.dmine, meta_level_vlabel, NOQUOTE))" COUNT = "%sysfunc(sasmsg(sashelp.dmine, rpt_count_vlabel, NOQUOTE))";
14721  title9 ' ';
14722  title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_varSummary_title  , NOQUOTE))";
14723  run;

NOTE: There were 10 observations read from the data set WORK.PROFMETA.
NOTE: The PROCEDURE PRINT printed page 1.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

14724  title10;

14725  %let EMEXCEPTIONSTRING=;
15080  *------------------------------------------------------------*;
15081  * Prof: Generation of macros and macro variables;
15082  * To see the code generated, set the EM_DEBUG macro variable to SOURCE or _ALL_;
15083  *------------------------------------------------------------*;

15084  %let EMEXCEPTIONSTRING=;
15085  *------------------------------------------------------------*;
15086  * TRAIN: Prof;
15087  *------------------------------------------------------------*;
15088  %let EM_ACTION = TRAIN;
15089  %let syscc = 0;
15090  %macro main;
15091     %if %sysfunc(indexw(&EM_DEBUG, _ALL_)) or %sysfunc(indexw(&EM_DEBUG, SOURCE)) %then %do;
15092         options MPRINT;
15093     %end;
15094  
15095     filename temp catalog 'sashelp.emexpl.profile_macros.source';
15096     %include temp;
15097     filename temp;
15098  
15099     /* Initialize property macro variables */
15100     %SetProperties;
15101  
15102     %if %upcase(&EM_ACTION) = CREATE %then %do;
15103  
15104         filename temp catalog 'sashelp.emexpl.profile_create.source';
15105         %include temp;
15106         filename temp;
15107         %create;
15108     %end;
15109     %else
15110     %if %upcase(&EM_ACTION) = TRAIN %then %do;
15111  
15112         filename temp catalog 'sashelp.emexpl.profile_train.source';
15113         %include temp;
15114         filename temp;
15115         %train;
15116     %end;
15117  %mend main;
15118  
15119  %main;
NOTE: %INCLUDE (level 1) file TEMP is file SASHELP.EMEXPL.PROFILE_MACROS.SOURCE.
15120 +%macro SetProperties;
15121 +   %em_checkmacro(name=EM_PROPERTY_PROFILEALL,         global=Y, value=N);
15122 +   %em_checkmacro(name=EM_PROPERTY_USEREPORTVARS,      global=Y, value=Y);
15123 +   %em_checkmacro(name=EM_PROPERTY_OTHERPERCENTCUTOFF, global=Y, value=95);
15124 +   %em_checkmacro(name=EM_PROPERTY_TARGETROLE,         global=Y, value=NONE);
15125 +   %em_checkmacro(name=EM_PROPERTY_NUMHISTBARS,        global=Y, value=8);
15126 +   %em_checkmacro(name=EM_PROPERTY_MINWORTH,           global=Y, value=0.01);
15127 +   %em_checkmacro(name=EM_PROPERTY_MAXDEPTH,           global=Y, value=1);
15128 +   %em_checkmacro(name=EM_PROPERTY_MAXNUMREPORT,       global=Y, value=10);
15129 +   %em_checkmacro(name=EM_PROPERTY_MAXNUMINPUT,        global=Y, value=10);
15130 +   %em_checkmacro(name=EM_PROPERTY_PRINTWORTH,         global=Y, value=Y);
15131 +%mend SetProperties;
15132 +
15133 +
15134 +%macro makeVarMacros(level= );
15135 +
15136 +    %let numvars = 0;
15137 +    %let where   = '';
15138 +
15139 +    %if (%upcase(&EM_PROPERTY_TARGETROLE) eq INPUT) %then
15140 +        %let where = (ROLE = 'REJECTED' and LEVEL="&level" and USE='Y') or (ROLE in('INPUT', 'TARGET') and LEVEL="&level"  and USE in('Y', 'D'));
15141 +    %else
15142 +        %let where = (ROLE = 'REJECTED' and LEVEL="&level" and USE='Y') or (ROLE ='INPUT' and LEVEL="&level" and USE in('Y', 'D'));
15143 +
15144 +    %if &level = INTERVAL %then %do;
15145 +        %let numvars = %eval( &EM_NUM_INTERVAL_INPUT + &EM_NUM_INTERVAL_REJECTED);
15146 +        %if (%upcase(&EM_PROPERTY_TARGETROLE) eq INPUT) %then
15147 +             %let numvars = %eval(&numvars + &EM_NUM_INTERVAL_TARGET);
15148 +    %end;
15149 +    %else %do;
15150 +        %if &level = NOMINAL %then %do;
15151 +            %let numvars = %eval(&EM_NUM_BINARY_INPUT + &EM_NUM_NOMINAL_INPUT +  &EM_NUM_BINARY_REJECTED + &EM_NUM_NOMINAL_REJECTED);
15152 +             %if (%upcase(&EM_PROPERTY_TARGETROLE) eq INPUT) %then %do;
15153 +                 %let numvars = %eval(&numvars + &EM_NUM_BINARY_TARGET + &EM_NUM_NOMINAL_TARGET);
15154 +                 %let where = (ROLE = 'REJECTED' and LEVEL in('NOMINAL', 'BINARY') and USE='Y') or (ROLE in('INPUT', 'TARGET') and LEVEL in('NOMINAL', 'BINARY') and USE in('Y', 'D'));
15155 +             %end;
15156 +             %else
15157 +                 %let where = (ROLE = 'REJECTED' and LEVEL in('NOMINAL', 'BINARY') and USE='Y') or (ROLE ='INPUT' and LEVEL in("NOMINAL", "BINARY") and USE in('Y', 'D'));
15158 +
15159 +        %end;
15160 +        %else %do;
15161 +            %let numvars = %eval(&EM_NUM_ORDINAL_INPUT + &EM_NUM_ORDINAL_REJECTED);
15162 +            %if (%upcase(&EM_PROPERTY_TARGETROLE) eq INPUT) %then
15163 +                %let numvars = %eval(&numvars + &EM_NUM_ORDINAL_TARGET);
15164 +        %end;
15165 +    %end;
15166 +
15167 +    %if &numvars>0 %then %do;
15168 +         %let numloop = %sysfunc(ceil(&numvars/10000));
15169 +         %let loopcount = 0;
15170 +
15171 +         %do %while((&numloop - &loopcount) > 0);
15172 +             %let first = %eval((&loopcount*10000) + 1);
15173 +             %let last  = %eval(&first + 10000);
15174 +             %let loopcount = %eval(&loopcount +1);
15175 +             %let centry = &EM_LIB..&EM_NODEID._MACS.&LEVEL._&loopcount..SOURCE;
15176 +             filename X catalog "&centry";
15177 +             data _null_;
15178 +                length _STRING_ $80;
15179 +                retain _STRING_ ;
15180 +                file X;
15181 +                set &EM_DATA_VARIABLESET(firstobs=&first obs=&last) end=eof;
15182 +
15183 +                where &where;
15184 +
15185 +                if _N_=1 then
15186 +                   put '%macro _PROFVAR;';
15187 +
15188 +                if (length(_STRING_) + length(trim(NAME))+ 1  < 80) then do;
15189 +                   _STRING_ = trim(_STRING_)!!' '!!trim(NAME);
15190 +                   if eof then do;
15191 +                      put _STRING_;
15192 +                      put '%mend _PROFVAR;';
15193 +                   end;
15194 +                end;
15195 +                else do;
15196 +                   put _STRING_;
15197 +                  _string_ = TRIM(NAME);
15198 +                   if eof then do;
15199 +                      put _string_;
15200 +                      put '%mend _PROFVAR;';
15201 +                   end;
15202 +                end;
15203 +             run;
15204 +             filename X;
15205 +         %end;
15206 +    %end;
15207 +
15208 +%mend makeVarMacros;
15209 +
15210 +
NOTE: %INCLUDE (level 1) ending.
NOTE: Fileref TEMP has been deassigned.
NOTE: %INCLUDE (level 1) file TEMP is file SASHELP.EMEXPL.PROFILE_TRAIN.SOURCE.
15211 +%macro _looparbor(level=, target=, rules=);
15212 +    %local where;
15213 +
15214 +    %if (&level eq or &target eq ) %then %goto doenda;
15215 +    %if &rules eq %then &rules = _TEMPRULE;
15216 +
15217 +    %let lnumvars = 0;
15218 +    %let where   = '';
15219 +
15220 +    %if &level = INTERVAL %then %do;
15221 +        %let lnumvars = %eval(&EM_NUM_INTERVAL_INPUT + &EM_NUM_INTERVAL_REJECTED);
15222 +        %if (%upcase(&EM_PROPERTY_TARGETROLE) eq INPUT) %then
15223 +             %let lnumvars = %eval(&lnumvars + &EM_NUM_INTERVAL_TARGET);
15224 +    %end;
15225 +    %else %do;
15226 +        %if &level = NOMINAL %then %do;
15227 +            %let lnumvars = %eval(&EM_NUM_BINARY_INPUT + &EM_NUM_NOMINAL_INPUT + &EM_NUM_BINARY_REJECTED + &EM_NUM_NOMINAL_REJECTED);
15228 +             %if  (%upcase(&EM_PROPERTY_TARGETROLE) eq INPUT) %then
15229 +                 %let lnumvars = %eval(&lnumvars + &EM_NUM_BINARY_TARGET + &EM_NUM_NOMINAL_TARGET);
15230 +        %end;
15231 +        %else %do;
15232 +            %let lnumvars = %eval(&EM_NUM_ORDINAL_INPUT + &EM_NUM_ORDINAL_REJECTED);
15233 +            %if  (%upcase(&EM_PROPERTY_TARGETROLE) eq INPUT) %then
15234 +                %let lnumvars = %eval(&lnumvars + &EM_NUM_ORDINAL_TARGET);
15235 +        %end;
15236 +    %end;
15237 +
15238 +    %if &lnumvars>0 %then %do;
15239 +         %let numloop = %sysfunc(ceil(&lnumvars/10000));
15240 +         %let loopcount = 0;
15241 +
15242 +         %do %while((&numloop - &loopcount) > 0);
15243 +             %let loopcount = %eval(&loopcount +1);
15244 +             %let centry = &EM_LIB..&EM_NODEID._MACS.&LEVEL._&loopcount..SOURCE;
15245 +             filename X catalog "&centry";
15246 +             %inc X;
15247 +
15248 +             proc arbor data=&EM_NODEID._TMP
15249 +
15250 +             %if &EM_PROPERTY_MAXDEPTH = 1 %then %do;
15251 +                 Criterion=GINI Leafsize=5 Mincatsize = 5
15252 +                 Maxbranch=5 Maxdepth=1
15253 +                 NORULELIMIT MAXRULES=&EM_PROPERTY_MAXNUMINPUT
15254 +             %end;
15255 +             %else %do;
15256 +                 Criterion=PROBCHISQ alpha=0.2 Leafsize=5 Mincatsize = 5
15257 +                 Maxbranch=5 Maxdepth=&EM_PROPERTY_MAXDEPTH
15258 +                 MAXRULES=5 Padjust= CHAIDBEFORE DEPTH
15259 +             %end;
15260 +
15261 +              MAXSURRS=0 Missing=USEINSEARCH Exhaustive=5000;
15262 +
15263 +                input %_PROFVAR
15264 +
15265 +                    / level = &level;
15266 +                target _SEG / level=binary;
15267 +
15268 +                Performance Disk NodeSize=10000;
15269 +                Assess NoValidata measure=MISC;
15270 +                SUBTREE BEST;
15271 +
15272 +                %if &EM_PROPERTY_MAXDEPTH > 1 %then %do;
15273 +                    save IMPORTANCE=_LOOPTEMPRULE;
15274 +                %end;
15275 +                %else %do;
15276 +                    save RULES=_LOOPTEMPRULE;
15277 +                %end;
15278 +             run;
15279 +             quit;
15280 +
15281 +             %if %sysfunc(exist(_LOOPTEMPRULE)) %then %do;
15282 +                 proc append base=&RULES data=_LOOPTEMPRULE force;
15283 +                 run;
15284 +                 proc datasets lib=work nolist mt=(DATA VIEW);
15285 +                    delete _LOOPTEMPRULE;
15286 +                 run;
15287 +                 quit;
15288 +             %end;
15289 +
15290 +
15291 +             filename X;
15292 +         %end;
15293 +     %end;
15294 +
15295 +   %doenda:
15296 +
15297 +%mend _looparbor;
15298 +
15299 +%macro _arbor(target=, rules=, fit=);
15300 +   %local _numnomvars _numordvars _numintvars;
15301 +
15302 +   %if &target eq  %then %goto doendc;
15303 +   %if &rules eq %then &rules = _TEMPRULE;
15304 +   %if &fit   eq %then &fit   = _FIT;
15305 +
15306 +   %let _numintvars = %eval(&EM_NUM_INTERVAL_INPUT + &EM_NUM_INTERVAL_REJECTED);
15307 +   %if  (%upcase(&EM_PROPERTY_TARGETROLE) eq INPUT) %then
15308 +       %let _numintvars = %eval(&_numintvars + &EM_NUM_INTERVAL_TARGET);
15309 +
15310 +
15311 +   %let _numnomvars =  %eval(&EM_NUM_BINARY_INPUT + &EM_NUM_NOMINAL_INPUT + &EM_NUM_BINARY_REJECTED + &EM_NUM_NOMINAL_REJECTED);
15312 +   %if  (%upcase(&EM_PROPERTY_TARGETROLE) eq INPUT) %then
15313 +       %let _numnomvars = %eval(&_numnomvars + &EM_NUM_BINARY_TARGET + &EM_NUM_NOMINAL_TARGET);
15314 +
15315 +   %let _numordvars = %eval(&EM_NUM_ORDINAL_INPUT + &EM_NUM_ORDINAL_REJECTED);
15316 +   %if  (%upcase(&EM_PROPERTY_TARGETROLE) eq INPUT) %then
15317 +       %let _numordvars = %eval(&_numordvars + &EM_NUM_ORDINAL_TARGET);
15318 +
15319 +   proc arbor data=&EM_NODEID._TMP
15320 +
15321 +   %if &EM_PROPERTY_MAXDEPTH = 1 %then %do;
15322 +      Criterion=GINI Leafsize=5 Mincatsize = 5
15323 +      Maxbranch=5 Maxdepth=1
15324 +      NORULELIMIT MAXRULES=&EM_PROPERTY_MAXNUMINPUT
15325 +   %end;
15326 +   %else %do;
15327 +      Criterion=PROBCHISQ alpha=0.2 Leafsize=5 Mincatsize = 5
15328 +      Maxbranch=2 Maxdepth=&EM_PROPERTY_MAXDEPTH
15329 +      MAXRULES=5 Padjust= CHAIDBEFORE DEPTH
15330 +   %end;
15331 +
15332 +      MAXSURRS=0 Missing=USEINSEARCH Exhaustive=5000;
15333 +
15334 +      %if &_numintvars %then %do;
15335 +          input %EM_INTERVAL_INPUT %EM_INTERVAL_REJECTED
15336 +
15337 +          %if  (%upcase(&EM_PROPERTY_TARGETROLE) eq INPUT) %then %do;
15338 +              %EM_INTERVAL_TARGET
15339 +          %end;
15340 +
15341 +              / level = interval;
15342 +      %end;
15343 +
15344 +
15345 +      %if &_numnomvars %then %do;
15346 +          input %EM_BINARY_INPUT %EM_NOMINAL_INPUT %EM_BINARY_REJECTED %EM_NOMINAL_REJECTED
15347 +
15348 +          %if  (%upcase(&EM_PROPERTY_TARGETROLE) eq INPUT) %then %do;
15349 +              %EM_BINARY_TARGET %EM_NOMINAL_TARGET
15350 +          %end;
15351 +
15352 +              / level = nominal;
15353 +      %end;
15354 +
15355 +      %if &_numordvars %then %do;
15356 +         input %EM_ORDINAL_INPUT %EM_ORDINAL_REJECTED
15357 +
15358 +         %if  (%upcase(&EM_PROPERTY_TARGETROLE) eq INPUT) %then %do;
15359 +              %EM_ORDINAL_TARGET
15360 +         %end;
15361 +
15362 +             / level = ordinal;
15363 +      %end;
15364 +
15365 +      target _SEG / level=binary;
15366 +
15367 +      Performance Disk NodeSize=10000;
15368 +      Assess
15369 +
15370 +       %if %sysfunc(exist(&EM_NODEID._VALIDTMP, VIEW))>0 %then %do;
15371 +          Validata=&EM_NODEID._VALIDTMP
15372 +      %end;
15373 +      %else %do;
15374 +          NoValidata
15375 +      %end;
15376 +
15377 +      measure=MISC;
15378 +      SUBTREE BEST;
15379 +
15380 +      %if &EM_PROPERTY_MAXDEPTH > 1 %then %do;
15381 +          SCORE data=&EM_NODEID._TMP  out=_NULL_ outfit=_FIT
15382 +                role=TRAIN;
15383 +          %if %sysfunc(exist(&EM_NODEID._VALIDTMP, VIEW))>0 %then %do;
15384 +          SCORE data=&EM_NODEID._VALIDTMP  out=_NULL_ outfit=_FIT2
15385 +                role=VALID;
15386 +          %end;
15387 +
15388 +          save IMPORTANCE=_RULE;
15389 +      %end;
15390 +      %else %do;
15391 +          save RULES=_RULE;
15392 +      %end;
15393 +
15394 +      ;
15395 +   run;
15396 +   quit;
15397 +
15398 +   %if %sysfunc(exist(_RULE)) %then %do;
15399 +       proc append base=&RULES data=_RULE force;
15400 +       run;
15401 +       proc datasets lib=work nolist mt=(DATA VIEW);
15402 +          delete _RULE;
15403 +       run;
15404 +       quit;
15405 +   %end;
15406 +
15407 +   %doendc:
15408 +
15409 +%mend _arbor;
15410 +
15411 +%macro tree_profile(SEGMENT=, _sizeDs=, _varsDs=, _fitDs=, _reportDs=);
15412 +   %put &EM_CODEBAR;
15413 +   %put * Filtering input variables ;
15414 +   %put * SEGMENT= &segment;
15415 +   %put &EM_CODEBAR;
15416 +
15417 +  %if _sizeDs eq %then %let _sizeDs = WORK._SEGMENTSIZE;
15418 +  %if _varsDs eq %then %let _varsDs = WORK._SELECTEDVARS;
15419 +  %if _fitDs  eq %then %let _fitDs  = WORK._FITSTAT;
15420 +
15421 +  %let _SEGMENT = &SEGMENT;
15422 +
15423 +  proc freq data=&EM_IMPORT_DATA noprint ;
15424 +    table &_segment / missing out=&_segment(keep=&_segment count percent) ;
15425 +
15426 +    %if %EM_FREQ ne %then %do;
15427 +        weight %EM_FREQ;
15428 +        where %EM_FREQ>=0;
15429 +    %end;
15430 +
15431 +  run ;
15432 +  proc sort data=&_segment;
15433 +     by descending count ;
15434 +  run ;
15435 +
15436 +  %let dsid       = %sysfunc(open(&_segment));
15437 +  %let segnum     = %sysfunc(varnum(&dsid, &_segment));
15438 +  %let _segtype   = %sysfunc(vartype(&dsid, &segnum));
15439 +  %let _segformat = %sysfunc(varfmt(&dsid, &segnum));
15440 +
15441 +  %let dsid=%sysfunc(close(&dsid));
15442 +
15443 +  %let SEGMENTS=;
15444 +  %let COUNTS=;
15445 +  %let OTHERWHERE=;
15446 +  %let numLevels=;
15447 +  data _segs;
15448 +     length SegmentVariable $32 SegmentValue $200;
15449 +     retain SegmentVariable "&_Segment";
15450 +     label SegmentVariable = "%sysfunc(sasmsg(sashelp.dmine, rpt_segmentvariable_vlabel,  NOQUOTE))"
15451 +           SegmentValue    = "%sysfunc(sasmsg(sashelp.dmine, rpt_segmentvalue_vlabel,  NOQUOTE))";
15452 +     drop &_segment cum othercount otherpct numLevels;
15453 +     retain cum othercount otherpct numLevels 0;
15454 +     format Count 8.;
15455 +     set &_segment end=eof;
15456 +
15457 +     %if &_segformat ne %then %do;
15458 +         SegmentValue= left(put(&_segment, &_segformat));
15459 +     %end;
15460 +     %else %do;
15461 +        %if &_segtype = N %then %do;
15462 +            SegmentValue= left(put(&_segment, best12.));
15463 +        %end;
15464 +        %else %do;
15465 +            SegmentValue = &_segment;
15466 +        %end;
15467 +     %end;
15468 +
15469 +     %if &EM_PROPERTY_PROFILEALL eq Y %then %do;
15470 +        call symput('SEGMENTS'!!strip(put(_N_,BEST.)), strip(tranwrd(SegmentValue, '"','""'))) ;
15471 +        call symput('COUNTS' !!strip(put(_N_,BEST.)),  strip(put(count, best.))) ;
15472 +        numLevels + 1;
15473 +        output;
15474 +     %end;
15475 +     %else %do;
15476 +         if (cum < &EM_PROPERTY_OTHERPERCENTCUTOFF) or (trim(symget('OTHERWHERE')) eq ' ' and eof) then do;
15477 +            call symput('SEGMENTS'!!strip(put(_N_,BEST.)), strip(tranwrd(SegmentValue, '"','""'))) ;
15478 +            call symput('COUNTS' !!strip(put(_N_,BEST.)),  strip(put(count, best.))) ;
15479 +            numLevels + 1;
15480 +            output;
15481 +         end;
15482 +         else do;
15483 +            %if &_segtype = C or &_segformat ne %then %do;
15484 +                call symput('OTHERWHERE'  ,symget('OTHERWHERE'  ) !! ' ' !!
15485 +                                     quote(strip(tranwrd(SegmentValue, '"','""'))));
15486 +            %end;
15487 +            %else %do;
15488 +                call symput('OTHERWHERE'  ,symget('OTHERWHERE'  ) !! ' ' !! strip(SegmentValue));
15489 +            %end;
15490 +            othercount = othercount + count;
15491 +            otherpct   = otherpct + percent;
15492 +            if eof then do;
15493 +               SegmentValue = '_OTHER_';
15494 +               count   = othercount;
15495 +               percent = otherpct;
15496 +               numLevels + 1;
15497 +               call symput('SEGMENTS'!! strip(put(numLevels,BEST.)), '_OTHER_') ;
15498 +               call symput('COUNTS'  !! strip(put(numLevels,BEST.)),  strip(put(count, best.))) ;
15499 +               output;
15500 +            end;
15501 +         end;
15502 +         cum = cum + percent;
15503 +     %end;
15504 +     if eof then
15505 +        call symput('numLevels', strip(put(numLevels,BEST.))) ;
15506 +  run ;
15507 +
15508 +  title9 " " ;
15509 +  title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_frequency_title,  NOQUOTE, &_Segment))";
15510 +  proc print data=_segs noobs label ;
15511 +  run ;
15512 +  title9;
15513 +  title10;
15514 +
15515 +  proc append base=&_sizeDs data=_segs force;
15516 +  run;
15517 +
15518 +  %let numvars= %eval(&EM_NUM_INPUT + &EM_NUM_REJECTED);
15519 +  %if  (%upcase(&EM_PROPERTY_TARGETROLE) eq INPUT) %then
15520 +      %let numvars= %eval(&EM_NUM_INPUT + &EM_NUM_REJECTED + &EM_NUM_TARGET);
15521 +
15522 +  /* Loop over segments */
15523 +  %do i=1 %to &numLevels;
15524 +     %if ^&numvars %then %do;
15525 +         %if %sysfunc(exist(&_reportDs)) %then %do;
15526 +             data _TEMPRULE(keep=SegmentVariable SegmentValue Variable Rank Worth);
15527 +               label SegmentVariable = "%sysfunc(sasmsg(sashelp.dmine, rpt_segmentvariable_vlabel,  NOQUOTE))"
15528 +                     SegmentValue    = "%sysfunc(sasmsg(sashelp.dmine, rpt_segmentvalue_vlabel,  NOQUOTE))"
15529 +                     Variable        = "%sysfunc(sasmsg(sashelp.dmine, rpt_variable_vlabel,  NOQUOTE))"
15530 +                     Rank            = "%sysfunc(sasmsg(sashelp.dmine, rpt_rank_vlabel,  NOQUOTE))"
15531 +                     Worth           = "%sysfunc(sasmsg(sashelp.dmine, rpt_worth_vlabel,  NOQUOTE))";
15532 +                length SegmentVariable $32 SegmentValue $200;
15533 +                retain SegmentVariable "&_segment" SegmentValue "&&segments&i";
15534 +                set &_reportDs;
15535 +                Rank = _N_;
15536 +             run;
15537 +             proc append base=&_varsDs data=_TEMPRULE force;
15538 +             run;
15539 +         %end;
15540 +         %goto doskip;
15541 +     %end;
15542 +
15543 +     %if &_segformat ne %then %do;
15544 +         %if %nrbquote(&&segments&i) = _OTHER_ %then
15545 +             %let where= strip(put(&_segment, &_segformat)) in(&OTHERWHERE);
15546 +         %else
15547 +             %let where= strip(put(&_segment, &_segformat)) = "&&segments&i";
15548 +     %end;
15549 +     %else %do;
15550 +         %if %nrbquote(&&segments&i) = _OTHER_ %then
15551 +                 %let where= &_segment in(&OTHERWHERE);
15552 +         %else %do;
15553 +             %if &_segtype eq N %then
15554 +                 %let where= &_segment = &&segments&i;
15555 +             %else
15556 +                 %let where= &_segment = "&&segments&i";
15557 +         %end;
15558 +     %end;
15559 +
15560 +     data &EM_NODEID._TMP / view=&EM_NODEID._TMP ;
15561 +        set &EM_IMPORT_DATA(keep=%EM_INTERVAL_INPUT %EM_INTERVAL_REJECTED %EM_INTERVAL_TARGET
15562 +               %EM_BINARY_INPUT %EM_BINARY_REJECTED %EM_BINARY_TARGET
15563 +               %EM_ORDINAL_INPUT  %EM_NOMINAL_INPUT %EM_ORDINAL_REJECTED %EM_NOMINAL_REJECTED
15564 +               %EM_ORDINAL_TARGET %EM_NOMINAL_TARGET &_segment %EM_FREQ);
15565 +        if &where then
15566 +           _seg= 1 ;
15567 +        else
15568 +           _seg= 0 ;
15569 +     run ;
15570 +
15571 +      %if (&EM_IMPORT_VALIDATE ne ) and (%sysfunc(exist(&EM_IMPORT_VALIDATE)) or %sysfunc(exist(&EM_IMPORT_VALIDATE, VIEW))) %then %do;
15572 +          data &EM_NODEID._VALIDTMP / view=&EM_NODEID._VALIDTMP ;
15573 +             set &EM_IMPORT_VALIDATE(keep=%EM_INTERVAL_INPUT %EM_INTERVAL_REJECTED %EM_INTERVAL_TARGET
15574 +               %EM_BINARY_INPUT %EM_BINARY_REJECTED %EM_BINARY_TARGET
15575 +               %EM_ORDINAL_INPUT  %EM_NOMINAL_INPUT %EM_ORDINAL_REJECTED %EM_NOMINAL_REJECTED
15576 +               %EM_ORDINAL_TARGET %EM_NOMINAL_TARGET &_segment %EM_FREQ);
15577 +
15578 +             if &where then
15579 +                _seg= 1 ;
15580 +              else
15581 +                 _seg= 0 ;
15582 +          run ;
15583 +      %end;
15584 +
15585 +     %if  (%eval(&EM_NUM_INTERVAL_INPUT + &EM_NUM_INTERVAL_REJECTED + &EM_NUM_INTERVAL_TARGET +
15586 +               &EM_NUM_BINARY_INPUT + &EM_NUM_BINARY_REJECTED + &EM_NUM_BINARY_TARGET +
15587 +               &EM_NUM_ORDINAL_INPUT  + &EM_NUM_NOMINAL_INPUT + &EM_NUM_ORDINAL_REJECTED  + &EM_NUM_NOMINAL_REJECTED +
15588 +               &EM_NUM_ORDINAL_TARGET +  &EM_NUM_NOMINAL_TARGET) < 10000) %then %do;
15589 +         %_arbor(target=_SEG, rules=_TEMPRULE, FIT=_FIT);
15590 +     %end;
15591 +     %else %do;
15592 +        %_looparbor(level=INTERVAL, target=_SEG, rules=_TEMPRULE);
15593 +        %_looparbor(level=NOMINAL,  target=_SEG, rules=_TEMPRULE);
15594 +        %_looparbor(level=ORDINAL,  target=_SEG, rules=_TEMPRULE);
15595 +     %end;
15596 +
15597 +     /* Keeping the important variables */
15598 +     %if &EM_PROPERTY_MAXDEPTH = 1 %then %do;
15599 +         data _TEMPRULE(rename=(Name=Variable numeric_value=Worth));
15600 +            length Name $32;
15601 +            label Name = "%sysfunc(sasmsg(sashelp.dmine, rpt_variable_vlabel,  NOQUOTE))";
15602 +            retain Name;
15603 +
15604 +            set _temprule;
15605 +
15606 +            where stat in('VARIABLE','WORTH');
15607 +
15608 +            if stat = 'VARIABLE' then
15609 +               Name = character_value;
15610 +            else
15611 +               output;
15612 +         run;
15613 +
15614 +         proc sort data=_TEMPRULE;
15615 +            by descending Worth;
15616 +         run;
15617 +
15618 +         %if %sysfunc(exist(&_reportDs)) %then %do;
15619 +             data _TEMPRULE;
15620 +                set _TEMPRULE(obs=&EM_PROPERTY_MAXNUMINPUT) &_reportDs;
15621 +             run;
15622 +             proc sort data= _TEMPRULE nodupkey;
15623 +                by variable;
15624 +             run;
15625 +             proc sort data=_TEMPRULE;
15626 +                by descending Worth;
15627 +             run;
15628 +         %end;
15629 +         data _TEMPRULE(keep=SegmentVariable SegmentValue Variable Rank Worth);
15630 +              label SegmentVariable = "%sysfunc(sasmsg(sashelp.dmine, rpt_segmentvariable_vlabel,  NOQUOTE))"
15631 +                    SegmentValue    = "%sysfunc(sasmsg(sashelp.dmine, rpt_segmentvalue_vlabel,  NOQUOTE))"
15632 +                    Variable        = "%sysfunc(sasmsg(sashelp.dmine, rpt_variable_vlabel,  NOQUOTE))"
15633 +                    Rank            = "%sysfunc(sasmsg(sashelp.dmine, rpt_rank_vlabel,  NOQUOTE))"
15634 +                    Worth           = "%sysfunc(sasmsg(sashelp.dmine, rpt_worth_vlabel,  NOQUOTE))";
15635 +            length SegmentVariable $32 SegmentValue $200;
15636 +            retain SegmentVariable "&_segment" SegmentValue "&&segments&i";
15637 +            %if ^%sysfunc(exist(&_reportDs)) %then %do;
15638 +               set _TEMPRULE(obs=&EM_PROPERTY_MAXNUMINPUT);
15639 +            %end;
15640 +            %else %do;
15641 +                set _TEMPRULE;
15642 +            %end;
15643 +            Rank = _N_;
15644 +            if _N_=1 and worth ne . and (worth < &EM_PROPERTY_MINWORTH) then do;
15645 +               put "&EM_CODEBAR";
15646 +               put "* No input variable meet the minimum worth criterion of &EM_PROPERTY_MINWORTH.";
15647 +               put "* You may identify profile variables by lowering this threshold, ";
15648 +               put "* or by increasing the maximum depth of the decision tree used.";
15649 +               put "&EM_CODEBAR";
15650 +            end;
15651 +         run;
15652 +     %end;
15653 +     %else %do;
15654 +         %if %sysfunc(exist(&_reportDs)) %then %do;
15655 +             data _TEMPRULE;
15656 +                set _TEMPRULE(rename=(NAME=Variable) where=(IMPORTANCE >0)) &_reportDs;
15657 +             run;
15658 +             proc sort data= _TEMPRULE nodupkey;
15659 +                by variable;
15660 +             run;
15661 +             proc sort data=_TEMPRULE;
15662 +                by descending Importance;
15663 +             run;
15664 +         %end;
15665 +         data _TEMPRULE(keep=SegmentVariable SegmentValue Variable Rank Importance);
15666 +              label SegmentVariable = "%sysfunc(sasmsg(sashelp.dmine, rpt_segmentvariable_vlabel,  NOQUOTE))"
15667 +                  SegmentValue    = "%sysfunc(sasmsg(sashelp.dmine, rpt_segmentvalue_vlabel,  NOQUOTE))"
15668 +                  Variable        = "%sysfunc(sasmsg(sashelp.dmine, rpt_variable_vlabel,  NOQUOTE))"
15669 +                  Importance      = "%sysfunc(sasmsg(sashelp.dmine, rpt_importance_vlabel,  NOQUOTE))"
15670 +                  Rank            = "%sysfunc(sasmsg(sashelp.dmine, rpt_rank_vlabel,  NOQUOTE))";
15671 +            length SegmentVariable $32 SegmentValue $200;
15672 +            retain SegmentVariable "&_segment" SegmentValue "&&segments&i";
15673 +            %if ^%sysfunc(exist(&_reportDs)) %then %do;
15674 +               set _TEMPRULE(rename=(NAME=Variable) where=(IMPORTANCE >0));
15675 +            %end;
15676 +            %else %do;
15677 +                set _TEMPRULE;
15678 +            %end;
15679 +            Rank = _N_;
15680 +         run;
15681 +     %end;
15682 +
15683 +     title9 "%sysfunc(sasmsg(sashelp.dmine, rpt_worth_title,  NOQUOTE, &_Segment, &&segments&i, &&counts&i))";
15684 +     title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_worth2_title,  NOQUOTE))";
15685 +
15686 +     %if &EM_PROPERTY_PRINTWORTH eq Y %then %do;
15687 +         %if &EM_PROPERTY_MAXDEPTH = 1 %then %do;
15688 +             proc print data=_TEMPRULE noobs label ;
15689 +                var Variable Worth Rank;
15690 +                where worth ne .;
15691 +             run ;
15692 +             data _TEMPRULE;
15693 +                set _TEMPRULE;
15694 +                where worth eq . or (worth >= &EM_PROPERTY_MINWORTH);
15695 +             run;
15696 +         %end;
15697 +         %else %do;
15698 +             proc print data=_TEMPRULE noobs label ;
15699 +                var Variable Importance Rank;
15700 +                where importance ne .;
15701 +             run ;
15702 +         %end;
15703 +
15704 +     %end ;
15705 +
15706 +     title9;
15707 +     title10;
15708 +
15709 +     proc append base=&_varsDs data=_TEMPRULE force;
15710 +     run;
15711 +
15712 +     %if %sysfunc(exist(_FIT)) %then %do;
15713 +         data _FIT;
15714 +            length SegmentVariable $32 SegmentValue $200;
15715 +            retain SegmentVariable "&_Segment" SegmentValue "&&segments&i";
15716 +
15717 +            %if %sysfunc(exist(_FIT2)) %then %do;
15718 +                merge _FIT(keep=_MISC_) _FIT2(keep=_VMISC_);
15719 +            %end;
15720 +            %else %do;
15721 +                set _FIT(keep=_MISC_);
15722 +            %end;
15723 +
15724 +         run;
15725 +         proc append base=&_fitDs data=_FIT force;
15726 +         run;
15727 +     %end;
15728 +
15729 +     %doskip:
15730 +
15731 +     proc datasets lib=work nolist mt=(DATA VIEW);
15732 +        delete _SEGS &EM_NODEID._TMP &EM_NODEID._VALIDTMP _STAT
15733 +
15734 +        %if %sysfunc(exist(_TEMPRULE)) %then %do;
15735 +            _TEMPRULE
15736 +        %end;
15737 +        %if %sysfunc(exist(_FIT))>0 %then %do;
15738 +            _FIT
15739 +        %end;
15740 +        %if %sysfunc(exist(_FIT2))>0 %then %do;
15741 +            _FIT2
15742 +        %end;
15743 +     ;
15744 +     run;
15745 +     quit;
15746 +  %end ;
15747 +%mend tree_profile;
15748 +
15749 +/* This macro loops over segment variables and determines important variables */
15750 +%macro em_profile(_segmentvar= , _sizeDS=WORK._SEGMENTSIZE,
15751 +                  _varsDs=WORK._SELECTEDVARS, _fitDs=WORK._FITSTAT, _reportDs=);
15752 +
15753 +    %if _sizeDs eq %then %let _sizeDs = WORK._SEGMENTSIZE;
15754 +    %if _varsDs eq %then %let _varsDs = WORK._SELECTEDVARS;
15755 +    %if _fitDs  eq %then %let _fitDs  = WORK._FITSTAT;
15756 +
15757 +    %if _segmentvar eq %then %do;
15758 +        %put &EM_CODEBAR;
15759 +        %put * No segment variable defined ;
15760 +        %put &EM_CODEBAR;
15761 +        %goto doendep;
15762 +    %end;
15763 +
15764 +    %let sndx = 0;
15765 +
15766 +    %let svar = &_segmentvar;
15767 +    %if &svar ne %then %do;
15768 +        %makeVarMacros(LEVEL=INTERVAL);
15769 +        %makeVarMacros(LEVEL=NOMINAL);
15770 +        %makeVarMacros(LEVEL=ORDINAL);
15771 +    %end;
15772 +
15773 +    %do %while(&svar ne );
15774 +        %let sndx= %eval(&sndx+1);
15775 +        %let svar = %scan(&_segmentvar, &sndx,' ');
15776 +        %if &svar ne %then
15777 +            %tree_profile(segment=&svar, _sizeDS=&_sizeDs, _varsDs=&_varsDs, _fitDs=&_fitDs, _reportDs=&_reportDs);
15778 +    %end ;
15779 +
15780 +    proc datasets lib=&EM_LIB nolist;
15781 +       delete &EM_NODEID._MACS(mt=catalog);
15782 +    run;
15783 +
15784 +    %doendep:
15785 +%mend em_profile;
15786 +
15787 +%macro segmentSummary(SEGMENT=, _VARSDS=, FormatFref=);
15788 +   %put &EM_CODEBAR;
15789 +   %put * Summarizing variables ;
15790 +   %put * SEGMENT= &segment;
15791 +   %put &EM_CODEBAR;
15792 +
15793 +  %if (&_varsDs eq ) or ^%sysfunc(exist(&_VARSDS)) or ^%sysfunc(exist(&segment)) %then %goto doends;
15794 +
15795 +  %let _SEGMENT = &SEGMENT;
15796 +
15797 +  %let dsid       = %sysfunc(open(&_segment));
15798 +  %let segnum     = %sysfunc(varnum(&dsid, &_segment));
15799 +  %let _segtype   = %sysfunc(vartype(&dsid, &segnum));
15800 +  %let _segformat = %sysfunc(varfmt(&dsid, &segnum));
15801 +
15802 +  %let dsid=%sysfunc(close(&dsid));
15803 +
15804 +  %let SEGMENTS=;
15805 +  %let COUNTS=;
15806 +  %let OTHERWHERE=;
15807 +  %let numLevels=;
15808 +  data _null_;
15809 +     retain cum othercount otherpct  numLevels 0;
15810 +     format Count 8.;
15811 +     set &_segment end=eof;
15812 +
15813 +     %if &_segformat ne %then %do;
15814 +         SegmentValue= strip(put(&_segment, &_segformat));
15815 +     %end;
15816 +     %else %do;
15817 +        %if &_segtype = N %then %do;
15818 +            SegmentValue= strip(put(&_segment, best12.));
15819 +        %end;
15820 +        %else %do;
15821 +            SegmentValue = &_segment;
15822 +        %end;
15823 +     %end;
15824 +
15825 +     %if &EM_PROPERTY_PROFILEALL eq Y %then %do;
15826 +         call symput('SEGMENTS'!!strip(put(_N_,BEST.)), strip(tranwrd(SegmentValue, '"','""'))) ;
15827 +         call symput('COUNTS' !!strip(put(_N_,BEST.)),  strip(put(count, best.))) ;
15828 +         numLevels + 1;
15829 +         output;
15830 +     %end;
15831 +     %else %do;
15832 +         if (cum < &EM_PROPERTY_OTHERPERCENTCUTOFF) or (trim(symget('OTHERWHERE')) eq ' ' and eof) then do;
15833 +            call symput('SEGMENTS'!!strip(put(_N_,BEST.)), strip(tranwrd(SegmentValue, '"','""'))) ;
15834 +            call symput('COUNTS' !!strip(put(_N_,BEST.)),  strip(put(count, best.))) ;
15835 +            numLevels + 1;
15836 +            output;
15837 +         end;
15838 +         else do;
15839 +            %if &_segtype = C or &_segformat ne %then %do;
15840 +                call symput('OTHERWHERE'  ,symget('OTHERWHERE'  ) !! ' ' !!
15841 +                                     quote(strip(tranwrd(SegmentValue, '"','""'))));
15842 +            %end;
15843 +            %else %do;
15844 +                call symput('OTHERWHERE'  ,symget('OTHERWHERE'  ) !! ' ' !! strip(SegmentValue));
15845 +            %end;
15846 +            othercount = othercount + count;
15847 +            otherpct   = otherpct + percent;
15848 +            if eof then do;
15849 +               SegmentValue = '_OTHER_';
15850 +               count   = othercount;
15851 +               percent = otherpct;
15852 +               numLevels + 1;
15853 +               call symput('SEGMENTS'!! strip(put(numLevels,BEST.)), '_OTHER_') ;
15854 +               call symput('COUNTS'  !! strip(put(numLevels,BEST.)),  strip(put(count, best.))) ;
15855 +               output;
15856 +            end;
15857 +         end;
15858 +         cum = cum + percent;
15859 +     %end;
15860 +     if eof then
15861 +        call symput('numLevels', strip(put(numLevels,BEST.))) ;
15862 +  run ;
15863 +
15864 +  /* Loop over segments */
15865 +  %do S = 1 %to &numLevels;
15866 +     %if &_segformat ne %then %do;
15867 +         %if %nrbquote(&&segments&s) = _OTHER_ %then
15868 +             %let where= strip(put(&_segment, &_segformat)) in(&OTHERWHERE);
15869 +         %else
15870 +             %let where= strip(put(&_segment, &_segformat)) = "&&segments&s";
15871 +     %end;
15872 +     %else %do;
15873 +         %if %nrbquote(&&segments&s) = _OTHER_ %then
15874 +                 %let where= &_segment in(&OTHERWHERE);
15875 +         %else %do;
15876 +             %if &_segtype eq N %then
15877 +                 %let where= &_segment = &&segments&s;
15878 +             %else
15879 +                 %let where= &_segment = "&&segments&s";
15880 +         %end;
15881 +     %end;
15882 +
15883 +     %let SEGVARS=;
15884 +     %let SEGCLASS=;
15885 +     data _tempStat;
15886 +        set &_varsDs;
15887 +        where  SegmentVariable="&_segment" and SegmentValue="&&segments&s";
15888 +        if Type eq 'I' then
15889 +           call symput('SEGVARS',symget('SEGVARS' ) !! ' ' !! trim(left(Variable))) ;
15890 +        else
15891 +           call symput('SEGCLASS',symget('SEGCLASS' ) !! ' ' !! trim(left(Variable))) ;
15892 +     run ;
15893 +
15894 +     %let _nobs = 0;
15895 +     %let dsid = %sysfunc(open(_tempStat));
15896 +     %if &dsid %then %do;
15897 +         %let _nobs = %sysfunc(attrn(&dsid, NLOBS));
15898 +         %let dsid = %sysfunc(close(&dsid));
15899 +     %end;
15900 +     %if &_nobs<1 %then %goto doskips;
15901 +
15902 +     proc sort data=_tempStat;
15903 +        by Variable;
15904 +     run;
15905 +
15906 +     data &EM_NODEID._TMP / view=&EM_NODEID._TMP ;
15907 +        set &EM_IMPORT_DATA;
15908 +
15909 +        where &where;
15910 +
15911 +        %if (&FormatFref ne ) and (&segvars ne ) %then %do;
15912 +            %inc &FormatFref;
15913 +        %end;
15914 +     run;
15915 +
15916 +     /* Profile Segment */
15917 +     %if &segclass ne %then %do;
15918 +         %class_profile(DATA=&EM_NODEID._TMP, OUTPUT=_CLASS, VARS=&SEGCLASS, STAT=_STAT, FREQ=%EM_FREQ);
15919 +         data _CLASS;
15920 +            length SegmentVariable $32 SegmentValue $200;
15921 +            retain SegmentVariable "&_Segment" SegmentValue "&&segments&s";
15922 +            label Variable        = "%sysfunc(sasmsg(sashelp.dmine, rpt_variable_vlabel,  NOQUOTE))"
15923 +                   value    = "%sysfunc(sasmsg(sashelp.dmine, rpt_value_vlabel,  NOQUOTE))"
15924 +                   count    = "%sysfunc(sasmsg(sashelp.dmine, rpt_count_vlabel,  NOQUOTE))"
15925 +                   percent  = "%sysfunc(sasmsg(sashelp.dmine, rpt_percent_vlabel,  NOQUOTE))";
15926 +            set _CLASS;
15927 +         run;
15928 +         proc append base=&EM_USER_CLASSDIST data=_CLASS force;
15929 +         run;
15930 +         data _tempStat;
15931 +            merge _tempStat _STAT;
15932 +            by VARIABLE;
15933 +         run;
15934 +     %end;
15935 +     %if &segvars ne %then %do;
15936 +         %var_profile(DATA=&EM_NODEID._TMP, OUTPUT=_INTERVAL, VARS=&SEGVARS,
15937 +                           STAT=_STAT, BIN=N, FREQ=%EM_FREQ, NUMBARS= &EM_PROPERTY_NUMHISTBARS);
15938 +         data _INTERVAL;
15939 +             length SegmentVariable $32 SegmentValue $200;
15940 +             retain SegmentVariable "&_Segment" SegmentValue "&&segments&s";
15941 +             label Variable        = "%sysfunc(sasmsg(sashelp.dmine, rpt_variable_vlabel,  NOQUOTE))"
15942 +                   value    = "%sysfunc(sasmsg(sashelp.dmine, rpt_value_vlabel,  NOQUOTE))"
15943 +                   count    = "%sysfunc(sasmsg(sashelp.dmine, rpt_count_vlabel,  NOQUOTE))"
15944 +                   percent  = "%sysfunc(sasmsg(sashelp.dmine, rpt_percent_vlabel,  NOQUOTE))";
15945 +             set _INTERVAL;
15946 +         run;
15947 +
15948 +         proc append base=&EM_USER_INTDIST data=_INTERVAL force;
15949 +         run;
15950 +
15951 +         proc sort data=_STAT(KEEP=VARIABLE NMISS MIN MAX MEAN STD SKEWNESS KURTOSIS);
15952 +            by VARIABLE;
15953 +         run;
15954 +         data _tempStat;
15955 +            merge _tempStat _STAT;
15956 +            by VARIABLE;
15957 +         run;
15958 +
15959 +     %end;
15960 +
15961 +     proc sort data=_tempStat;
15962 +        by Rank;
15963 +     run;
15964 +     proc append base=&EM_USER_STATS data=_tempStat force;
15965 +     run;
15966 +
15967 +     %doskips:
15968 +
15969 +     proc datasets lib=work nolist mt=(DATA VIEW);
15970 +        delete _segment &EM_NODEID._TMP _interval _class
15971 +
15972 +        %if %sysfunc(exist(_tempStat))>0 %then %do;
15973 +            _tempStat
15974 +        %end;
15975 +     ;
15976 +     run;
15977 +     quit;
15978 +
15979 +
15980 +  %end ;
15981 +%mend segmentSummary;
15982 +
15983 +%macro train;
15984 +
15985 +   /* Retrieve data set name */
15986 +   %EM_GETNAME(KEY=SIZE,       TYPE=DATA);
15987 +   %EM_GETNAME(KEY=FIT,        TYPE=DATA);
15988 +   %EM_GETNAME(KEY=STATS,      TYPE=DATA);
15989 +   %EM_GETNAME(KEY=WORTH,      TYPE=DATA);
15990 +   %EM_GETNAME(KEY=IMPORTANCE, TYPE=DATA);
15991 +   %EM_GETNAME(KEY=CLASSDIST,  TYPE=DATA);
15992 +   %EM_GETNAME(KEY=INTDIST,    TYPE=DATA);
15993 +   %EM_GETNAME(KEY=SELVARS,    TYPE=DATA);
15994 +
15995 +   /* Delete previous data sets */
15996 +   proc datasets lib=&EM_LIB nolist;
15997 +      delete &EM_NODEID._SIZE  &EM_NODEID._STATS &EM_NODEID._FIT &EM_NODEID._WORTH
15998 +             &EM_NODEID._IMPORTANCE &EM_NODEID._SELVARS
15999 +             &EM_NODEID._CLASSDIST  &EM_NODEID._INTDIST &EM_NODEID._MACS(mt=catalog);
16000 +   run;
16001 +
16002 +   %if (%sysfunc(exist(&EM_IMPORT_DATA))<1 and %sysfunc(exist(&EM_IMPORT_DATA, VIEW))<1)
16003 +       or (&EM_IMPORT_DATA eq ) %then %do;
16004 +       %let  EMEXCEPTIONSTRING = exception.server.emtool.PROFNEEDTRAINDATASET;
16005 +       %goto doendpt;
16006 +   %end;
16007 +
16008 +    proc sort data=&EM_DATA_VARIABLESET;
16009 +       by Name;
16010 +    run;
16011 +
16012 +    %let _segmentvar = %EM_SEGMENT %EM_TREATMENT;
16013 +
16014 +    %if  (%upcase(&EM_PROPERTY_TARGETROLE) eq SEGMENT) %then
16015 +        %let _segmentvar= &_segmentvar %EM_BINARY_TARGET %EM_NOMINAL_TARGET %EM_ORDINAL_TARGET;
16016 +
16017 +    /* Add report variables */
16018 +    %let REPORT_VARS = ;
16019 +    %if  (%upcase(&EM_PROPERTY_TARGETROLE) eq REPORT) %then %do;
16020 +        %let REPORT_VARS = %EM_TARGET;
16021 +    %end;
16022 +    %if &EM_PROPERTY_USEREPORTVARS eq Y %then %do;
16023 +        %let REPORT_VARS = &REPORT_VARS %EM_REPORT_VARS;
16024 +    %end;
16025 +
16026 +    %if &REPORT_VARS ne %then %do;
16027 +        data _tempreport;
16028 +           length Variable $32;
16029 +
16030 +        %let rndx= 0 ;
16031 +        %let rvar  = &REPORT_VARS;
16032 +        %do %while( &rndx < &EM_PROPERTY_MAXNUMREPORT and &rvar ne  ) ;
16033 +            %let rndx= %eval(&rndx+1);
16034 +            %let rvar = %scan(&REPORT_VARS, &rndx, ' ') ;
16035 +            %if &rvar ne %then %do;
16036 +                Variable="&rvar"; output;
16037 +            %end ;
16038 +        %end;
16039 +
16040 +        run;
16041 +    %end;
16042 +
16043 +    %em_profile(_segmentvar=&_segmentvar, _sizeDs=&EM_USER_SIZE,
16044 +                _varsDs=&EM_USER_SELVARS, _fitDs=&EM_USER_FIT, _reportDs=_tempReport);
16045 +
16046 +    %if ^%sysfunc(exist(&EM_USER_SELVARS)) and (&REPORT_VARS eq ) %then %goto doendpt;
16047 +
16048 +    %if ^%sysfunc(exist(&EM_USER_SELVARS)) %then %do;
16049 +        data &EM_USER_SELVARS;
16050 +           set _tempreport;
16051 +        run;
16052 +    %end;
16053 +
16054 +    proc sort data=&EM_USER_SELVARS;
16055 +       by Variable;
16056 +    run;
16057 +    data &EM_USER_SELVARS;
16058 +       length Type $1;
16059 +       label Type = "%sysfunc(sasmsg(sashelp.dmine, meta_type_vlabel,  NOQUOTE))";
16060 +       merge &EM_USER_SELVARS(in=a) &EM_DATA_VARIABLESET(keep=NAME LEVEL LABEL rename=(NAME=Variable));
16061 +       by Variable;
16062 +       if LABEL eq '' then LABEL=VARIABLE;
16063 +       if a then do;
16064 +          if LEVEL = 'INTERVAL' then Type = 'I';
16065 +          else Type = 'C';
16066 +           output;
16067 +       end;
16068 +       drop LEVEL;
16069 +    run;
16070 +
16071 +    proc sort data=&EM_USER_SELVARS out=_SummaryVars nodupkey;
16072 +       by Variable;
16073 +    run;
16074 +    %if &EM_PROPERTY_MAXDEPTH > 1 %then %let selStat = Importance;
16075 +    %else
16076 +        %let selStat = Worth;
16077 +
16078 +   data &EM_USER_STATS(keep=Type SegmentVariable SegmentValue Variable Label Rank &selStat);
16079 +       length Type $1;
16080 +       label Type = "%sysfunc(sasmsg(sashelp.dmine, meta_type_vlabel,  NOQUOTE))";
16081 +       set _SummaryVars;
16082 +       SegmentVariable= "_OVERALL_"; SegmentValue= "&EM_IMPORT_DATA"  ;
16083 +       rank = .; &selStat=.;
16084 +       if Label eq '' then Label=Variable;
16085 +   run;
16086 +
16087 +    /* Profile Entire Data */
16088 +   %put &EM_CODEBAR;
16089 +   %put * Profile Entire Data ;
16090 +   %put &EM_CODEBAR;
16091 +
16092 +    %let segvars=;
16093 +    %let segclass=;
16094 +    data _null_;
16095 +       set  &EM_USER_STATS;
16096 +       if Type = 'I' then
16097 +          call symput('SEGVARS',symget('SEGVARS' ) !! ' ' !! trim(left(Variable))) ;
16098 +       else
16099 +          call symput('SEGCLASS',symget('SEGCLASS' ) !! ' ' !! trim(left(Variable))) ;
16100 +    run ;
16101 +
16102 +    %if &segclass ne %then %do;
16103 +        %class_profile(DATA=&EM_IMPORT_DATA, OUTPUT=_CLASS, VARS=&SEGCLASS, STAT=_STAT, FREQ=%EM_FREQ);
16104 +        data _CLASS;
16105 +           length SegmentVariable $32 SegmentValue $200;
16106 +           retain SegmentVariable "_OVERALL_" SegmentValue "&EM_IMPORT_DATA";
16107 +           label  variable = "%sysfunc(sasmsg(sashelp.dmine, rpt_variable_vlabel,  NOQUOTE))"
16108 +                  value    = "%sysfunc(sasmsg(sashelp.dmine, rpt_value_vlabel,  NOQUOTE))"
16109 +                  count    = "%sysfunc(sasmsg(sashelp.dmine, rpt_count_vlabel,  NOQUOTE))"
16110 +                  percent  = "%sysfunc(sasmsg(sashelp.dmine, rpt_percent_vlabel,  NOQUOTE))";
16111 +           set _CLASS;
16112 +        run;
16113 +        proc append base=&EM_USER_CLASSDIST data=_CLASS force;
16114 +        run;
16115 +
16116 +        proc sort data=_STAT;
16117 +           by VARIABLE;
16118 +        run;
16119 +        data &EM_USER_STATS;
16120 +            merge  &EM_USER_STATS _STAT;
16121 +            by VARIABLE;
16122 +        run;
16123 +    %end;
16124 +    %if &segvars ne %then %do;
16125 +        /* Computing Min and Max for Interval Variables */
16126 +        %var_profile(DATA=&EM_IMPORT_DATA, OUTPUT=_INTERVAL, VARS=&SEGVARS,
16127 +                          STAT=_STAT, BINDATA=DATA_STAT, FREQ=%EM_FREQ, BIN=Y, NUMBARS= &EM_PROPERTY_NUMHISTBARS);
16128 +        data _INTERVAL;
16129 +           length SegmentVariable $32 SegmentValue $200;
16130 +           retain SegmentVariable "_OVERALL_" SegmentValue "&EM_IMPORT_DATA";
16131 +           label  variable = "%sysfunc(sasmsg(sashelp.dmine, rpt_variable_vlabel,  NOQUOTE))"
16132 +                  value    = "%sysfunc(sasmsg(sashelp.dmine, rpt_value_vlabel,  NOQUOTE))"
16133 +                  count    = "%sysfunc(sasmsg(sashelp.dmine, rpt_count_vlabel,  NOQUOTE))"
16134 +                  percent  = "%sysfunc(sasmsg(sashelp.dmine, rpt_percent_vlabel,  NOQUOTE))";
16135 +           set _INTERVAL;
16136 +        run;
16137 +
16138 +        proc append base=&EM_USER_INTDIST data=_INTERVAL force;
16139 +        run;
16140 +
16141 +        proc sort data=_STAT(KEEP=VARIABLE NMISS MIN MAX MEAN STD SKEWNESS KURTOSIS) OUT=_STAT;
16142 +           by VARIABLE;
16143 +        run;
16144 +        data &EM_USER_STATS;
16145 +            merge  &EM_USER_STATS _STAT;
16146 +            by VARIABLE;
16147 +        run;
16148 +    %end;
16149 +
16150 +    filename X catalog "&EM_LIB..&EM_NODEID._INTERVAL.FORMAT.source";
16151 +
16152 +    %if %sysfunc(exist(&EM_LIB..&EM_NODEID._INTERVAL, 'CATALOG')) %then %do;
16153 +        proc datasets lib=&EM_LIB nolist;
16154 +           delete &EM_NODEID._INTERVAL(mt=catalog);
16155 +        run;
16156 +    %end;
16157 +
16158 +    %if %sysfunc(exist(DATA_STAT)) %then %do;
16159 +        data _null_;
16160 +           file X;
16161 +
16162 +           %let dsid    =%sysfunc(open(DATA_STAT));
16163 +           %let namenum = %sysfunc(varnum(&dsid, VARIABLE));
16164 +           %let fmtnum  = %sysfunc(varnum(&dsid, FORMAT));
16165 +           %let obs = %sysfunc(fetch(&dsid));
16166 +
16167 +           put 'format' ;
16168 +
16169 +           %let _count = 0;
16170 +           %let _VARS=;
16171 +           %do %while(&obs=0);
16172 +
16173 +               %let _count = %eval(&_count +1);
16174 +               %let _name = %sysfunc(getvarc(&dsid, &namenum));
16175 +               %let _VARS = &_VARS &_name;
16176 +               %let _fmtname = %sysfunc(getvarc(&dsid, &fmtnum));
16177 +               %do;
16178 +                  put "&_name &_fmtname..";
16179 +               %end;
16180 +               %let obs = %sysfunc(fetch(&dsid));
16181 +           %end;
16182 +           %let dsid=%sysfunc(close(&dsid));
16183 +           put ';';
16184 +        run;
16185 +    %end;
16186 +
16187 +    /* Profile Segments */
16188 +    %if _segmentvar eq %then %goto doendpt;
16189 +    %let sndx = 0;
16190 +
16191 +    %let svar = &_segmentvar;
16192 +    %do %while(&svar ne );
16193 +        %let sndx= %eval(&sndx+1);
16194 +        %let svar = %scan(&_segmentvar, &sndx,' ');
16195 +        %if &svar ne %then
16196 +            %segmentSummary(segment=&svar, _varsDs=&EM_USER_SELVARS, FormatFref=X);
16197 +    %end ;
16198 +
16199 +    filename X;
16200 +
16201 +    %doendpt:
16202 +
16203 +
16204 +    /* Set reports for the node */
16205 +    %let _keys= SIZE STATS CLASSDIST INTDIST;
16206 +
16207 +    %if %sysfunc(exist( &EM_USER_CLASSDIST)) or  %sysfunc(exist(&EM_USER_INTDIST)) %then %do;
16208 +        %if %sysfunc(exist(&EM_USER_INTDIST)) %then %do;
16209 +            data &EM_USER_INTDIST;
16210 +               set &EM_USER_INTDIST;
16211 +               label SegmentVariable = "%sysfunc(sasmsg(sashelp.dmine, rpt_segmentvariable_vlabel,  NOQUOTE))"
16212 +                     SegmentValue    = "%sysfunc(sasmsg(sashelp.dmine, rpt_segmentvalue_vlabel,  NOQUOTE))"
16213 +                     Color           = "%sysfunc(sasmsg(sashelp.dmine, rpt_color_vlabel,  NOQUOTE))";
16214 +               if SegmentVariable = '_OVERALL_' then Color = 1;
16215 +               else Color = 0;
16216 +            run;
16217 +        %end;
16218 +        %if %sysfunc(exist(&EM_USER_CLASSDIST)) %then %do;
16219 +            data &EM_USER_CLASSDIST;
16220 +               set &EM_USER_CLASSDIST;
16221 +               label SegmentVariable = "%sysfunc(sasmsg(sashelp.dmine, rpt_segmentvariable_vlabel,  NOQUOTE))"
16222 +                     SegmentValue    = "%sysfunc(sasmsg(sashelp.dmine, rpt_segmentvalue_vlabel,  NOQUOTE))"
16223 +                     Groupindex      = "%sysfunc(sasmsg(sashelp.dmine, rpt_groupIndex_vlabel,  NOQUOTE))";
16224 +               if SegmentVariable = '_OVERALL_' then GroupIndex = 0;
16225 +               else GroupIndex = 1;
16226 +            run;
16227 +        %end;
16228 +
16229 +        %let svar = &_segmentvar;
16230 +        %let sndx = 0;
16231 +        %do %while(&svar ne );
16232 +            %let sndx= %eval(&sndx+1);
16233 +            %let svar = %scan(&_segmentvar, &sndx,' ');
16234 +            %if &svar ne %then %do;
16235 +                %let autodisplay = N;
16236 +                %if &sndx = 1 %then
16237 +                    %let autodisplay = Y;
16238 +                %EM_REPORT(KEY=&_keys, VIEWTYPE=PROFILEVIEW, DESCRIPTION=Profileview, SEGMENTVALUE=&svar,
16239 +                      STATS=STATS, SIZE=SIZE, CLASSDIST=CLASSDIST, INTDIST=INTDIST, AUTODISPLAY=&autodisplay, BLOCK=Plot,
16240 +                      LOCALIZE=Y, COLOR=COLOR);
16241 +            %end;
16242 +        %end ;
16243 +    %end;
16244 +
16245 +    %if %sysfunc(exist( &EM_USER_STATS)) %then %do;
16246 +        %if &EM_PROPERTY_MAXDEPTH = 1 %then %do;
16247 +            data &EM_USER_WORTH;
16248 +               set &EM_USER_STATS;
16249 +               label SegmentVariable = "%sysfunc(sasmsg(sashelp.dmine, rpt_segmentvariable_vlabel,  NOQUOTE))"
16250 +                     SegmentValue    = "%sysfunc(sasmsg(sashelp.dmine, rpt_segmentvalue_vlabel,  NOQUOTE))"
16251 +                     Variable        = "%sysfunc(sasmsg(sashelp.dmine, rpt_variable_vlabel,  NOQUOTE))"
16252 +                     Rank   = "%sysfunc(sasmsg(sashelp.dmine, rpt_rank_vlabel,  NOQUOTE))"
16253 +                     Worth  = "%sysfunc(sasmsg(sashelp.dmine, rpt_worth_vlabel,  NOQUOTE))";
16254 +               where WORTH ne .;
16255 +            run;
16256 +            %EM_REPORT(KEY=WORTH,     VIEWTYPE=BAR,  BY=SEGMENTVALUE, X=VARIABLE, FREQ=WORTH,
16257 +                  AUTODISPLAY=Y, REPORTID=SEGMENTVARIABLE, IDVALUE=WORTH, DESCRIPTION=profworth, BLOCK=Plot,
16258 +                  LOCALIZE=Y, NCOLS=1);
16259 +        %end;
16260 +        %else %do;
16261 +            data &EM_USER_IMPORTANCE;
16262 +               set &EM_USER_STATS;
16263 +               label SegmentVariable = "%sysfunc(sasmsg(sashelp.dmine, rpt_segmentvariable_vlabel,  NOQUOTE))"
16264 +                  SegmentValue    = "%sysfunc(sasmsg(sashelp.dmine, rpt_segmentvalue_vlabel,  NOQUOTE))"
16265 +                  Variable        = "%sysfunc(sasmsg(sashelp.dmine, rpt_variable_vlabel,  NOQUOTE))"
16266 +                  Importance      = "%sysfunc(sasmsg(sashelp.dmine, rpt_importance_vlabel,  NOQUOTE))"
16267 +                  Rank            = "%sysfunc(sasmsg(sashelp.dmine, rpt_rank_vlabel,  NOQUOTE))";
16268 +               where IMPORTANCE ne .;
16269 +            run;
16270 +            %EM_REPORT(KEY=IMPORTANCE, VIEWTYPE=BAR,  BY=SEGMENTVALUE, X=VARIABLE, FREQ=IMPORTANCE,
16271 +                  AUTODISPLAY=Y, REPORTID=SEGMENTVARIABLE, IDVALUE=IMPORTANCE, DESCRIPTION=profimportance, BLOCK=Plot,
16272 +                  LOCALIZE=Y, NCOLS=1);
16273 +       %end;
16274 +    %end;
16275 +
16276 +    %if %sysfunc(exist( &EM_USER_SIZE)) %then %do;
16277 +        %if %sysfunc(exist( &EM_USER_FIT)) %then %do;
16278 +            data &EM_USER_SIZE;
16279 +               merge &EM_USER_SIZE &EM_USER_FIT;
16280 +               label percent  = "%sysfunc(sasmsg(sashelp.dmine, rpt_percent_vlabel,  NOQUOTE))"
16281 +                     count    = "%sysfunc(sasmsg(sashelp.dmine, rpt_count_vlabel,  NOQUOTE))";
16282 +               format PERCENT 5.2;
16283 +               format COUNT 12.;
16284 +            run;
16285 +        %end;
16286 +        %else %do;
16287 +            data &EM_USER_SIZE;
16288 +               set &EM_USER_SIZE;
16289 +               label percent  = "%sysfunc(sasmsg(sashelp.dmine, rpt_percent_vlabel,  NOQUOTE))"
16290 +                     count    = "%sysfunc(sasmsg(sashelp.dmine, rpt_count_vlabel,  NOQUOTE))";
16291 +               format PERCENT 5.2;
16292 +               format COUNT 12.;
16293 +            run;
16294 +        %end;
16295 +
16296 +        %EM_REPORT(KEY=SIZE, VIEWTYPE=PIE, DESCRIPTION=segmentmanysize, X=SEGMENTVALUE, Y=COUNT, TIPTEXT=PERCENT,
16297 +                   REPORTID=SEGMENTVARIABLE, IDVALUE=SIZE, BLOCK=Plot, AUTODISPLAY=Y, LOCALIZE=Y);
16298 +
16299 +    %end;
16300 +
16301 +    %EM_REPORT(KEY=SIZE,      VIEWTYPE=DATA, DESCRIPTION=size,                BLOCK=Stats);
16302 +    %EM_REPORT(KEY=STATS,     VIEWTYPE=DATA, DESCRIPTION=profilevars,         BLOCK=Stats);
16303 +    %EM_REPORT(KEY=CLASSDIST, VIEWTYPE=DATA, DESCRIPTION=clusbarplot,         BLOCK=Stats);
16304 +    %EM_REPORT(KEY=INTDIST,   VIEWTYPE=DATA, DESCRIPTION=clushistplot,        BLOCK=Stats);
16305 +
16306 +    proc datasets lib=&EM_LIB nolist;
16307 +       delete &EM_NODEID._SELVARS _SUMMARYVARS DATA_STAT &EM_NODEID._MACS(mt=catalog) &EM_NODEID._INTERVAL(mt=catalog);
16308 +    run;
16309 +
16310 +%mend train;
16311 +
16312 +
16313 +
NOTE: %INCLUDE (level 1) ending.
NOTE: Fileref TEMP has been deassigned.

NOTE: The file EMWS1.PROF_SIZE (memtype=DATA) was not found, but appears on a DELETE statement.
NOTE: The file EMWS1.PROF_STATS (memtype=DATA) was not found, but appears on a DELETE statement.
NOTE: The file EMWS1.PROF_FIT (memtype=DATA) was not found, but appears on a DELETE statement.
NOTE: The file EMWS1.PROF_WORTH (memtype=DATA) was not found, but appears on a DELETE statement.
NOTE: The file EMWS1.PROF_IMPORTANCE (memtype=DATA) was not found, but appears on a DELETE statement.
NOTE: The file EMWS1.PROF_SELVARS (memtype=DATA) was not found, but appears on a DELETE statement.
NOTE: The file EMWS1.PROF_CLASSDIST (memtype=DATA) was not found, but appears on a DELETE statement.
NOTE: The file EMWS1.PROF_INTDIST (memtype=DATA) was not found, but appears on a DELETE statement.
NOTE: The file EMWS1.PROF_MACS (memtype=CATALOG) was not found, but appears on a DELETE statement.

NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
      


NOTE: There were 49 observations read from the data set EMWS1.PROF_VARIABLESET.
NOTE: The data set EMWS1.PROF_VARIABLESET has 49 observations and 21 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.03 seconds
      


NOTE: The file X is:
      Catalog Name=EMWS1.PROF_MACS.INTERVAL_1.SOURCE,
      Catalog Page Size=4096,
      Number of Catalog Pages=4,
      Created=Sun, Dec  1, 2019 05:35:46 PM,
      Last Modified=Sun, Dec  1, 2019 05:35:46 PM,
      Filename=C:\Users\yinyen\Desktop\DataMiningProject3\SASEM_Project\Workspaces\EMWS1\prof_macs.sas7bcat,
      Release Created=9.0401M3,
      Host Created=X64_8HOME

NOTE: 5 records were written to the file X.
      The minimum record length was 15.
      The maximum record length was 71.
NOTE: There were 13 observations read from the data set EMWS1.PROF_VARIABLESET.
      WHERE ((ROLE='REJECTED') and (LEVEL='INTERVAL') and (USE='Y')) or ((ROLE='INPUT') and (LEVEL='INTERVAL') and USE in ('D', 'Y'));
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
      

NOTE: Fileref X has been deassigned.

NOTE: The file X is:
      Catalog Name=EMWS1.PROF_MACS.NOMINAL_1.SOURCE,
      Catalog Page Size=4096,
      Number of Catalog Pages=5,
      Created=Sun, Dec  1, 2019 05:35:46 PM,
      Last Modified=Sun, Dec  1, 2019 05:35:46 PM,
      Filename=C:\Users\yinyen\Desktop\DataMiningProject3\SASEM_Project\Workspaces\EMWS1\prof_macs.sas7bcat,
      Release Created=9.0401M3,
      Host Created=X64_8HOME

NOTE: 7 records were written to the file X.
      The minimum record length was 15.
      The maximum record length was 72.
NOTE: There were 25 observations read from the data set EMWS1.PROF_VARIABLESET.
      WHERE ((ROLE='REJECTED') and LEVEL in ('BINARY', 'NOMINAL') and (USE='Y')) or ((ROLE='INPUT') and LEVEL in ('BINARY', 'NOMINAL') and USE in ('D', 'Y'));
NOTE: DATA statement used (Total process time):
      real time           0.02 seconds
      cpu time            0.01 seconds
      

NOTE: Fileref X has been deassigned.
*------------------------------------------------------------*
* Filtering input variables
* SEGMENT= _SEGMENT_
*------------------------------------------------------------*

NOTE: Variable _WARN_ is uninitialized.
NOTE: There were 2438 observations read from the data set EMWS1.PART_TRAIN.
NOTE: There were 2438 observations read from the data set EMWS1.GRFEXPL_TRAIN.
NOTE: View EMWS1.CLUS2_TRAIN.VIEW used (Total process time):
      real time           0.41 seconds
      cpu time            0.32 seconds
      
NOTE: There were 2438 observations read from the data set EMWS1.IMPT_TRAIN.
NOTE: There were 2438 observations read from the data set EMWS1.CLUS2_TRAIN.
NOTE: The data set WORK._SEGMENT_ has 2 observations and 3 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           0.46 seconds
      cpu time            0.37 seconds
      


NOTE: There were 2 observations read from the data set WORK._SEGMENT_.
NOTE: The data set WORK._SEGMENT_ has 2 observations and 3 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      


NOTE: There were 2 observations read from the data set WORK._SEGMENT_.
NOTE: The data set WORK._SEGS has 2 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
      


NOTE: There were 2 observations read from the data set WORK._SEGS.
NOTE: The PROCEDURE PRINT printed page 2.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      


NOTE: Appending WORK._SEGS to EMWS1.PROF_SIZE.
NOTE: BASE data set does not exist. DATA file is being copied to BASE file.
NOTE: There were 2 observations read from the data set WORK._SEGS.
NOTE: The data set EMWS1.PROF_SIZE has 2 observations and 4 variables.
NOTE: PROCEDURE APPEND used (Total process time):
      real time           0.03 seconds
      cpu time            0.00 seconds
      


NOTE: DATA STEP view saved on file WORK.PROF_TMP.
NOTE: A stored DATA STEP view cannot run under a different operating system.
NOTE: View EMWS1.CLUS2_TRAIN.VIEW used (Total process time):
      real time           0.19 seconds
      cpu time            0.15 seconds
      
NOTE: DATA statement used (Total process time):
      real time           0.22 seconds
      cpu time            0.17 seconds
      


NOTE: DATA STEP view saved on file WORK.PROF_VALIDTMP.
NOTE: A stored DATA STEP view cannot run under a different operating system.
NOTE: View EMWS1.CLUS2_VALIDATE.VIEW used (Total process time):
      real time           0.14 seconds
      cpu time            0.09 seconds
      
NOTE: DATA statement used (Total process time):
      real time           0.17 seconds
      cpu time            0.12 seconds
      

NOTE: View WORK.PROF_VALIDTMP.VIEW used (Total process time):
      real time           0.58 seconds
      cpu time            0.50 seconds
      
NOTE: Variable _WARN_ is uninitialized.
NOTE: 1227359 kilobytes of physical memory.
NOTE: Will use 2438 out of 2438 training cases.
NOTE: Using memory pool with 203660288 bytes.
NOTE: Will not search for split on variable NC17.
NOTE: Acceptable cases have the same value.
NOTE: Option MINCATSIZE=5 may apply.
NOTE: Passed training data 2 times.
NOTE: Training used 2350856 bytes of work memory.
NOTE: Variable _WARN_ is uninitialized.
NOTE: There were 2440 observations read from the data set EMWS1.PART_VALIDATE.
NOTE: There were 2440 observations read from the data set EMWS1.GRFEXPL_VALIDATE.
NOTE: There were 2440 observations read from the data set EMWS1.IMPT_VALIDATE.
NOTE: There were 2440 observations read from the data set EMWS1.CLUS2_VALIDATE.
NOTE: The subtree sequence contains 2 subtrees. The largest has 6 nodes and 5 leaves.
NOTE: Using subtree with 6 nodes and 5 leaves.
NOTE: Using subtree with 6 nodes and 5 leaves.
NOTE: The data set WORK._RULE has 82 observations and 6 variables.


NOTE: There were 2438 observations read from the data set EMWS1.PART_TRAIN.
NOTE: There were 2438 observations read from the data set EMWS1.GRFEXPL_TRAIN.
NOTE: There were 2438 observations read from the data set EMWS1.IMPT_TRAIN.
NOTE: View WORK.PROF_TMP.VIEW used (Total process time):
      real time           0.80 seconds
      cpu time            0.67 seconds
      
NOTE: There were 2438 observations read from the data set EMWS1.CLUS2_TRAIN.
NOTE: There were 2438 observations read from the data set WORK.PROF_TMP.
NOTE: PROCEDURE ARBOR used (Total process time):
      real time           0.83 seconds
      cpu time            0.70 seconds
      


NOTE: Appending WORK._RULE to WORK._TEMPRULE.
NOTE: BASE data set does not exist. DATA file is being copied to BASE file.
NOTE: There were 82 observations read from the data set WORK._RULE.
NOTE: The data set WORK._TEMPRULE has 82 observations and 6 variables.
NOTE: PROCEDURE APPEND used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
      


NOTE: Deleting WORK._RULE (memtype=DATA).

NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      


NOTE: There were 20 observations read from the data set WORK._TEMPRULE.
      WHERE stat in ('VARIABLE', 'WORTH');
NOTE: The data set WORK._TEMPRULE has 10 observations and 7 variables.
NOTE: DATA statement used (Total process time):
      real time           0.02 seconds
      cpu time            0.00 seconds
      


NOTE: There were 10 observations read from the data set WORK._TEMPRULE.
NOTE: The data set WORK._TEMPRULE has 10 observations and 7 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      


NOTE: There were 10 observations read from the data set WORK._TEMPRULE.
NOTE: The data set WORK._TEMPRULE has 10 observations and 5 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
      


NOTE: There were 10 observations read from the data set WORK._TEMPRULE.
      WHERE worth not = .;
NOTE: The PROCEDURE PRINT printed page 3.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      


NOTE: There were 9 observations read from the data set WORK._TEMPRULE.
      WHERE (worth=.) or (worth>=0.01);
NOTE: The data set WORK._TEMPRULE has 9 observations and 5 variables.
NOTE: DATA statement used (Total process time):
      real time           0.02 seconds
      cpu time            0.00 seconds
      


NOTE: Appending WORK._TEMPRULE to EMWS1.PROF_SELVARS.
NOTE: BASE data set does not exist. DATA file is being copied to BASE file.
NOTE: There were 9 observations read from the data set WORK._TEMPRULE.
NOTE: The data set EMWS1.PROF_SELVARS has 9 observations and 5 variables.
NOTE: PROCEDURE APPEND used (Total process time):
      real time           0.02 seconds
      cpu time            0.01 seconds
      


NOTE: The file WORK._STAT (memtype=(DATA VIEW)) was not found, but appears on a DELETE statement.
NOTE: Deleting WORK._SEGS (memtype=DATA).
NOTE: Deleting WORK.PROF_TMP (memtype=VIEW).
NOTE: Deleting WORK.PROF_VALIDTMP (memtype=VIEW).
NOTE: Deleting WORK._TEMPRULE (memtype=DATA).

NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.04 seconds
      cpu time            0.00 seconds
      


NOTE: DATA STEP view saved on file WORK.PROF_TMP.
NOTE: A stored DATA STEP view cannot run under a different operating system.
NOTE: View EMWS1.CLUS2_TRAIN.VIEW used (Total process time):
      real time           0.20 seconds
      cpu time            0.15 seconds
      
NOTE: DATA statement used (Total process time):
      real time           0.22 seconds
      cpu time            0.18 seconds
      


NOTE: DATA STEP view saved on file WORK.PROF_VALIDTMP.
NOTE: A stored DATA STEP view cannot run under a different operating system.
NOTE: View EMWS1.CLUS2_VALIDATE.VIEW used (Total process time):
      real time           0.15 seconds
      cpu time            0.09 seconds
      
NOTE: DATA statement used (Total process time):
      real time           0.18 seconds
      cpu time            0.14 seconds
      

NOTE: View WORK.PROF_VALIDTMP.VIEW used (Total process time):
      real time           0.73 seconds
      cpu time            0.57 seconds
      
NOTE: Variable _WARN_ is uninitialized.
NOTE: 1226744 kilobytes of physical memory.
NOTE: Will use 2438 out of 2438 training cases.
NOTE: Using memory pool with 203660288 bytes.
NOTE: Will not search for split on variable NC17.
NOTE: Acceptable cases have the same value.
NOTE: Option MINCATSIZE=5 may apply.
NOTE: Passed training data 2 times.
NOTE: Training used 2350856 bytes of work memory.
NOTE: Variable _WARN_ is uninitialized.
NOTE: There were 2440 observations read from the data set EMWS1.PART_VALIDATE.
NOTE: There were 2440 observations read from the data set EMWS1.GRFEXPL_VALIDATE.
NOTE: There were 2440 observations read from the data set EMWS1.IMPT_VALIDATE.
NOTE: There were 2440 observations read from the data set EMWS1.CLUS2_VALIDATE.
NOTE: The subtree sequence contains 2 subtrees. The largest has 6 nodes and 5 leaves.
NOTE: Using subtree with 6 nodes and 5 leaves.
NOTE: Using subtree with 6 nodes and 5 leaves.
NOTE: The data set WORK._RULE has 82 observations and 6 variables.


NOTE: There were 2438 observations read from the data set EMWS1.PART_TRAIN.
NOTE: There were 2438 observations read from the data set EMWS1.GRFEXPL_TRAIN.
NOTE: There were 2438 observations read from the data set EMWS1.IMPT_TRAIN.
NOTE: View WORK.PROF_TMP.VIEW used (Total process time):
      real time           1.04 seconds
      cpu time            0.82 seconds
      
NOTE: There were 2438 observations read from the data set EMWS1.CLUS2_TRAIN.
NOTE: There were 2438 observations read from the data set WORK.PROF_TMP.
NOTE: PROCEDURE ARBOR used (Total process time):
      real time           1.06 seconds
      cpu time            0.86 seconds
      


NOTE: Appending WORK._RULE to WORK._TEMPRULE.
NOTE: BASE data set does not exist. DATA file is being copied to BASE file.
NOTE: There were 82 observations read from the data set WORK._RULE.
NOTE: The data set WORK._TEMPRULE has 82 observations and 6 variables.
NOTE: PROCEDURE APPEND used (Total process time):
      real time           0.04 seconds
      cpu time            0.03 seconds
      


NOTE: Deleting WORK._RULE (memtype=DATA).

NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      


NOTE: There were 20 observations read from the data set WORK._TEMPRULE.
      WHERE stat in ('VARIABLE', 'WORTH');
NOTE: The data set WORK._TEMPRULE has 10 observations and 7 variables.
NOTE: DATA statement used (Total process time):
      real time           0.02 seconds
      cpu time            0.03 seconds
      


NOTE: There were 10 observations read from the data set WORK._TEMPRULE.
NOTE: The data set WORK._TEMPRULE has 10 observations and 7 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      


NOTE: There were 10 observations read from the data set WORK._TEMPRULE.
NOTE: The data set WORK._TEMPRULE has 10 observations and 5 variables.
NOTE: DATA statement used (Total process time):
      real time           0.02 seconds
      cpu time            0.01 seconds
      


NOTE: There were 10 observations read from the data set WORK._TEMPRULE.
      WHERE worth not = .;
NOTE: The PROCEDURE PRINT printed page 4.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      


NOTE: There were 9 observations read from the data set WORK._TEMPRULE.
      WHERE (worth=.) or (worth>=0.01);
NOTE: The data set WORK._TEMPRULE has 9 observations and 5 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      


NOTE: Appending WORK._TEMPRULE to EMWS1.PROF_SELVARS.
NOTE: There were 9 observations read from the data set WORK._TEMPRULE.
NOTE: 9 observations added.
NOTE: The data set EMWS1.PROF_SELVARS has 18 observations and 5 variables.
NOTE: PROCEDURE APPEND used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      


NOTE: The file WORK._SEGS (memtype=(DATA VIEW)) was not found, but appears on a DELETE statement.
NOTE: The file WORK._STAT (memtype=(DATA VIEW)) was not found, but appears on a DELETE statement.
NOTE: Deleting WORK.PROF_TMP (memtype=VIEW).
NOTE: Deleting WORK.PROF_VALIDTMP (memtype=VIEW).
NOTE: Deleting WORK._TEMPRULE (memtype=DATA).

NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      


NOTE: Deleting EMWS1.PROF_MACS (memtype=CATALOG).

NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      


NOTE: There were 18 observations read from the data set EMWS1.PROF_SELVARS.
NOTE: The data set EMWS1.PROF_SELVARS has 18 observations and 5 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      


WARNING: Multiple lengths were specified for the BY variable Variable by input data sets. This might cause unexpected results.
NOTE: There were 18 observations read from the data set EMWS1.PROF_SELVARS.
NOTE: There were 49 observations read from the data set EMWS1.PROF_VARIABLESET.
NOTE: The data set EMWS1.PROF_SELVARS has 18 observations and 7 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      


NOTE: There were 18 observations read from the data set EMWS1.PROF_SELVARS.
NOTE: 9 observations with duplicate key values were deleted.
NOTE: The data set WORK._SUMMARYVARS has 9 observations and 7 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.02 seconds
      cpu time            0.01 seconds
      


NOTE: There were 9 observations read from the data set WORK._SUMMARYVARS.
NOTE: The data set EMWS1.PROF_STATS has 9 observations and 7 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

*------------------------------------------------------------*
* Profile Entire Data
*------------------------------------------------------------*

NOTE: There were 9 observations read from the data set EMWS1.PROF_STATS.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      


NOTE: The file _MAC is:
      Catalog Name=WORK.MACROS.VARIABLES.SOURCE,
      Catalog Page Size=4096,
      Number of Catalog Pages=4,
      Created=Sun, Dec  1, 2019 05:35:50 PM,
      Last Modified=Sun, Dec  1, 2019 05:35:50 PM,
      Filename=C:\Users\yinyen\AppData\Local\Temp\SAS Temporary Files\_TD1120_LAPTOP-8U87H5I4_\macros.sas7bcat,
      Release Created=9.0401M3,
      Host Created=X64_8HOME

NOTE: 2 records were written to the file _MAC.
      The minimum record length was 12.
      The maximum record length was 13.
NOTE: DATA statement used (Total process time):
      real time           0.02 seconds
      cpu time            0.01 seconds
      

NOTE: %INCLUDE (level 1) file _MAC is file WORK.MACROS.VARIABLES.SOURCE.
16314 +%macro _vars;
16315 +%mend _vars;
NOTE: %INCLUDE (level 1) ending.
NOTE: Fileref _MAC has been deassigned.

NOTE: Variable _WARN_ is uninitialized.
NOTE: Records processed = 2438   Memory used = 511K.
NOTE: There were 2438 observations read from the data set EMWS1.PART_TRAIN.
NOTE: There were 2438 observations read from the data set EMWS1.GRFEXPL_TRAIN.
NOTE: View EMWS1.CLUS2_TRAIN.VIEW used (Total process time):
      real time           0.26 seconds
      cpu time            0.18 seconds
      
NOTE: There were 2438 observations read from the data set EMWS1.IMPT_TRAIN.
NOTE: There were 2438 observations read from the data set EMWS1.CLUS2_TRAIN.
NOTE: The data set WORK._TEMPCLASS has 4 observations and 9 variables.
NOTE: PROCEDURE DMDB used (Total process time):
      real time           0.28 seconds
      cpu time            0.21 seconds
      


NOTE: There were 4 observations read from the data set WORK._TEMPCLASS.
NOTE: The data set WORK._TEMPCLASS has 4 observations and 9 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      


NOTE: There were 4 observations read from the data set WORK._TEMPCLASS.
NOTE: The data set WORK._CLASS has 4 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.02 seconds
      cpu time            0.01 seconds
      


NOTE: There were 4 observations read from the data set WORK._CLASS.
NOTE: The data set WORK._STAT has 3 observations and 4 variables.
NOTE: PROCEDURE MEANS used (Total process time):
      real time           0.02 seconds
      cpu time            0.01 seconds
      


NOTE: There were 2 observations read from the data set WORK._STAT.
      WHERE _TYPE_=1;
NOTE: The data set WORK._STAT has 2 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

NOTE: Deleting WORK._TEMPCLASS (memtype=DATA).
NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      


NOTE: There were 4 observations read from the data set WORK._CLASS.
NOTE: The data set WORK._CLASS has 4 observations and 6 variables.
NOTE: DATA statement used (Total process time):
      real time           0.04 seconds
      cpu time            0.00 seconds
      


NOTE: Appending WORK._CLASS to EMWS1.PROF_CLASSDIST.
NOTE: BASE data set does not exist. DATA file is being copied to BASE file.
NOTE: There were 4 observations read from the data set WORK._CLASS.
NOTE: The data set EMWS1.PROF_CLASSDIST has 4 observations and 6 variables.
NOTE: PROCEDURE APPEND used (Total process time):
      real time           0.03 seconds
      cpu time            0.00 seconds
      


NOTE: There were 2 observations read from the data set WORK._STAT.
NOTE: The data set WORK._STAT has 2 observations and 2 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.02 seconds
      cpu time            0.01 seconds
      


NOTE: There were 9 observations read from the data set EMWS1.PROF_STATS.
NOTE: There were 2 observations read from the data set WORK._STAT.
NOTE: The data set EMWS1.PROF_STATS has 9 observations and 8 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

*------------------------------------------------------------*
* Prof: Computing Summary Statistics
*------------------------------------------------------------*

NOTE: The file _MAC is:
      Catalog Name=WORK.MACROS.VARIABLES.SOURCE,
      Catalog Page Size=4096,
      Number of Catalog Pages=5,
      Created=Sun, Dec  1, 2019 05:35:50 PM,
      Last Modified=Sun, Dec  1, 2019 05:35:50 PM,
      Filename=C:\Users\yinyen\AppData\Local\Temp\SAS Temporary Files\_TD1120_LAPTOP-8U87H5I4_\macros.sas7bcat,
      Release Created=9.0401M3,
      Host Created=X64_8HOME

NOTE: 2 records were written to the file _MAC.
      The minimum record length was 12.
      The maximum record length was 13.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

NOTE: %INCLUDE (level 1) file _MAC is file WORK.MACROS.VARIABLES.SOURCE.
16316 +%macro _vars;
16317 +%mend _vars;
NOTE: %INCLUDE (level 1) ending.
NOTE: Fileref _MAC has been deassigned.

NOTE: Variable _WARN_ is uninitialized.
NOTE: Records processed = 2438   Memory used = 511K.
NOTE: There were 2438 observations read from the data set EMWS1.PART_TRAIN.
NOTE: There were 2438 observations read from the data set EMWS1.GRFEXPL_TRAIN.
NOTE: View EMWS1.CLUS2_TRAIN.VIEW used (Total process time):
      real time           0.26 seconds
      cpu time            0.20 seconds
      
NOTE: There were 2438 observations read from the data set EMWS1.IMPT_TRAIN.
NOTE: There were 2438 observations read from the data set EMWS1.CLUS2_TRAIN.
NOTE: The data set WORK._STAT has 7 observations and 9 variables.
NOTE: PROCEDURE DMDB used (Total process time):
      real time           0.30 seconds
      cpu time            0.23 seconds
      


NOTE: There were 7 observations read from the data set WORK._STAT.
NOTE: The data set WORK._STAT has 7 observations and 9 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      


NOTE: MODIFY was successful for WORK._STAT.DATA.

NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.06 seconds
      cpu time            0.04 seconds
      

*------------------------------------------------------------*
* computingmidpoints_note
*------------------------------------------------------------*

NOTE: Variable _WARN_ is uninitialized.
NOTE: Records processed = 2438   Memory used = 511K.
NOTE: There were 2438 observations read from the data set EMWS1.PART_TRAIN.
NOTE: There were 2438 observations read from the data set EMWS1.GRFEXPL_TRAIN.
NOTE: View EMWS1.CLUS2_TRAIN.VIEW used (Total process time):
      real time           0.25 seconds
      cpu time            0.17 seconds
      
NOTE: There were 2438 observations read from the data set EMWS1.IMPT_TRAIN.
NOTE: There were 2438 observations read from the data set EMWS1.CLUS2_TRAIN.
NOTE: The data set WORK._CLASSOUT has 63 observations and 9 variables.
NOTE: PROCEDURE DMDB used (Total process time):
      real time           0.30 seconds
      cpu time            0.20 seconds
      


NOTE: There were 63 observations read from the data set WORK._CLASSOUT.
NOTE: The data set WORK._COUNT has 0 observations and 3 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           0.04 seconds
      cpu time            0.01 seconds
      


NOTE: Input data set is empty.
NOTE: The data set WORK._COUNT has 0 observations and 2 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.03 seconds
      cpu time            0.00 seconds
      


NOTE: There were 63 observations read from the data set WORK._CLASSOUT.
NOTE: The data set WORK._CLASSOUT has 63 observations and 9 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.02 seconds
      cpu time            0.00 seconds
      


NOTE: There were 63 observations read from the data set WORK._CLASSOUT.
NOTE: The data set WORK._DISCRETEMID has 7 observations and 10 variables.
NOTE: PROCEDURE TRANSPOSE used (Total process time):
      real time           0.04 seconds
      cpu time            0.00 seconds
      


NOTE: Deleting WORK._CLASSOUT (memtype=DATA).
NOTE: PROCEDURE DELETE used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      


NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      


NOTE: There were 7 observations read from the data set WORK._DISCRETEMID.
NOTE: There were 0 observations read from the data set WORK._COUNT.
NOTE: The data set WORK._DISCRETEMID has 0 observations and 11 variables.
NOTE: DATA statement used (Total process time):
      real time           0.02 seconds
      cpu time            0.00 seconds
      


NOTE: DATA STEP view saved on file WORK._EMVARDIST.
NOTE: A stored DATA STEP view cannot run under a different operating system.
NOTE: View EMWS1.CLUS2_TRAIN.VIEW used (Total process time):
      real time           0.21 seconds
      cpu time            0.17 seconds
      
NOTE: DATA statement used (Total process time):
      real time           0.24 seconds
      cpu time            0.21 seconds
      


NOTE: Variable _WARN_ is uninitialized.
NOTE: There were 2438 observations read from the data set EMWS1.PART_TRAIN.
NOTE: There were 2438 observations read from the data set EMWS1.GRFEXPL_TRAIN.
NOTE: There were 2438 observations read from the data set EMWS1.IMPT_TRAIN.
NOTE: View WORK._EMVARDIST.VIEW used (Total process time):
      real time           0.32 seconds
      cpu time            0.28 seconds
      
NOTE: There were 2438 observations read from the data set EMWS1.CLUS2_TRAIN.
NOTE: There were 2438 observations read from the data set WORK._EMVARDIST.
NOTE: The data set WORK._PCTLSTAT has 15 observations and 8 variables.
NOTE: PROCEDURE STDIZE used (Total process time):
      real time           0.36 seconds
      cpu time            0.29 seconds
      


NOTE: Deleting WORK._EMVARDIST (memtype=VIEW).

NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      


NOTE: There were 4 observations read from the data set WORK._PCTLSTAT.
      WHERE _type_ in ('P0', 'P100', 'P5', 'P95');
NOTE: The data set WORK.DATA_STAT has 7 observations and 6 variables.
NOTE: PROCEDURE TRANSPOSE used (Total process time):
      real time           0.03 seconds
      cpu time            0.00 seconds
      


NOTE: There were 7 observations read from the data set WORK.DATA_STAT.
NOTE: The data set WORK.DATA_STAT has 7 observations and 6 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      


NOTE: There were 7 observations read from the data set WORK.DATA_STAT.
NOTE: The data set WORK.DATA_STAT has 7 observations and 53 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      


WARNING: Multiple lengths were specified for the BY variable VARIABLE by input data sets. This might cause unexpected results.
NOTE: There were 7 observations read from the data set WORK.DATA_STAT.
NOTE: There were 0 observations read from the data set WORK._DISCRETEMID.
NOTE: The data set WORK.DATA_STAT has 7 observations and 55 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      


NOTE: The file FREF is:
      Catalog Name=WORK.EM.PROFILEFORMAT.SOURCE,
      Catalog Page Size=4096,
      Number of Catalog Pages=4,
      Created=Sun, Dec  1, 2019 05:35:52 PM,
      Last Modified=Sun, Dec  1, 2019 05:35:52 PM,
      Filename=C:\Users\yinyen\AppData\Local\Temp\SAS Temporary Files\_TD1120_LAPTOP-8U87H5I4_\em.sas7bcat,
      Release Created=9.0401M3,
      Host Created=X64_8HOME

NOTE: 107 records were written to the file FREF.
      The minimum record length was 1.
      The maximum record length was 43.
NOTE: There were 7 observations read from the data set WORK.DATA_STAT.
NOTE: DATA statement used (Total process time):
      real time           0.02 seconds
      cpu time            0.00 seconds
      

NOTE: %INCLUDE (level 1) file FREF is file WORK.EM.PROFILEFORMAT.SOURCE.
16318 +proc format;
16319 +value F1_
16320 +LOW -13003680.375 ="6501840.1875 "
16321 +13003680.375 -26007360.75 ="19505520.563 "
16322 +26007360.75 -39011041.125 ="32509200.938 "
16323 +39011041.125 -52014721.5 ="45512881.313 "
16324 +52014721.5 -65018401.875 ="58516561.688 "
16325 +65018401.875 -78022082.25 ="71520242.063 "
16326 +78022082.25 -91025762.625 ="84523922.438 "
16327 +91025762.625 -104029443 ="97527602.813 "
16328 +104029443 -270555999.4 ="264054159.21 "
16329 +270555999.4 -437082555.8 ="430580715.61 "
16330 +437082555.8 -603609112.2 ="597107272.01 "
16331 +603609112.2 -770135668.6 ="763633828.41 "
16332 +770135668.6 -HIGH="930160384.81 "
16333 +;
NOTE: Format F1_ has been output.
16334 +value F2_
16335 +LOW -3410216.875 ="1705108.4375 "
16336 +3410216.875 -6820433.75 ="5115325.3125 "
16337 +6820433.75 -10230650.625 ="8525542.1875 "
16338 +10230650.625 -13640867.5 ="11935759.063 "
16339 +13640867.5 -17051084.375 ="15345975.938 "
16340 +17051084.375 -20461301.25 ="18756192.813 "
16341 +20461301.25 -23871518.125 ="22166409.688 "
16342 +23871518.125 -27281735 ="25576626.563 "
16343 +27281735 -71418723 ="69713614.563 "
16344 +71418723 -115555711 ="113850602.56 "
16345 +115555711 -159692699 ="157987590.56 "
16346 +159692699 -203829687 ="202124578.56 "
16347 +203829687 -HIGH="246261566.56 "
16348 +;
NOTE: Format F2_ has been output.
16349 +value F3_
16350 +LOW -21417366.25 ="10708683.125 "
16351 +21417366.25 -42834732.5 ="32126049.375 "
16352 +42834732.5 -64252098.75 ="53543415.625 "
16353 +64252098.75 -85669465 ="74960781.875 "
16354 +85669465 -107086831.25 ="96378148.125 "
16355 +107086831.25 -128504197.5 ="117795514.38 "
16356 +128504197.5 -149921563.75 ="139212880.63 "
16357 +149921563.75 -171338930 ="160630246.88 "
16358 +171338930 -363383423.8 ="352674740.68 "
16359 +363383423.8 -555427917.6 ="544719234.48 "
16360 +555427917.6 -747472411.4 ="736763728.28 "
16361 +747472411.4 -939516905.2 ="928808222.08 "
16362 +939516905.2 -HIGH="1120852715.9 "
16363 +;
NOTE: Format F3_ has been output.
16364 +value F4_
16365 +LOW -36.375 ="20.6875 "
16366 +36.375 -67.75 ="52.0625 "
16367 +67.75 -99.125 ="83.4375 "
16368 +99.125 -130.5 ="114.8125 "
16369 +130.5 -161.875 ="146.1875 "
16370 +161.875 -193.25 ="177.5625 "
16371 +193.25 -224.625 ="208.9375 "
16372 +224.625 -256 ="240.3125 "
16373 +256 -304 ="288.3125 "
16374 +304 -352 ="336.3125 "
16375 +352 -400 ="384.3125 "
16376 +400 -448 ="432.3125 "
16377 +448 -HIGH="480.3125 "
16378 +;
NOTE: Format F4_ has been output.
16379 +value F5_
16380 +LOW -32035489 ="16017744.5 "
16381 +32035489 -64070978 ="48053233.5 "
16382 +64070978 -96106467 ="80088722.5 "
16383 +96106467 -128141956 ="112124211.5 "
16384 +128141956 -160177445 ="144159700.5 "
16385 +160177445 -192212934 ="176195189.5 "
16386 +192212934 -224248423 ="208230678.5 "
16387 +224248423 -256283912 ="240266167.5 "
16388 +256283912 -618671854.4 ="602654109.9 "
16389 +618671854.4 -981059796.8 ="965042052.3 "
16390 +981059796.8 -1343447739.2 ="1327429994.7 "
16391 +1343447739.2 -1705835681.6 ="1689817937.1 "
16392 +1705835681.6 -HIGH="2052205879.5 "
16393 +;
NOTE: Format F5_ has been output.
16394 +value F6_
16395 +LOW -6752.25 ="3378.625 "
16396 +6752.25 -13499.5 ="10125.875 "
16397 +13499.5 -20246.75 ="16873.125 "
16398 +20246.75 -26994 ="23620.375 "
16399 +26994 -33741.25 ="30367.625 "
16400 +33741.25 -40488.5 ="37114.875 "
16401 +40488.5 -47235.75 ="43862.125 "
16402 +47235.75 -53983 ="50609.375 "
16403 +53983 -140069.6 ="136695.975 "
16404 +140069.6 -226156.2 ="222782.575 "
16405 +226156.2 -312242.8 ="308869.175 "
16406 +312242.8 -398329.4 ="394955.775 "
16407 +398329.4 -HIGH="481042.375 "
16408 +;
NOTE: Format F6_ has been output.
16409 +value F7_
16410 +LOW -36.375 ="20.6875 "
16411 +36.375 -67.75 ="52.0625 "
16412 +67.75 -99.125 ="83.4375 "
16413 +99.125 -130.5 ="114.8125 "
16414 +130.5 -161.875 ="146.1875 "
16415 +161.875 -193.25 ="177.5625 "
16416 +193.25 -224.625 ="208.9375 "
16417 +224.625 -256 ="240.3125 "
16418 +256 -304 ="288.3125 "
16419 +304 -352 ="336.3125 "
16420 +352 -400 ="384.3125 "
16421 +400 -448 ="432.3125 "
16422 +448 -HIGH="480.3125 "
16423 +;
NOTE: Format F7_ has been output.
16424 +run;

NOTE: PROCEDURE FORMAT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

NOTE: %INCLUDE (level 1) ending.
NOTE: Fileref FREF has been deassigned.

NOTE: DATA STEP view saved on file WORK._BINNEDDATA.
NOTE: A stored DATA STEP view cannot run under a different operating system.
NOTE: View EMWS1.CLUS2_TRAIN.VIEW used (Total process time):
      real time           0.12 seconds
      cpu time            0.07 seconds
      
NOTE: DATA statement used (Total process time):
      real time           0.14 seconds
      cpu time            0.10 seconds
      


NOTE: Variable _WARN_ is uninitialized.
NOTE: Records processed = 2438   Memory used = 511K.
NOTE: There were 2438 observations read from the data set EMWS1.PART_TRAIN.
NOTE: There were 2438 observations read from the data set EMWS1.GRFEXPL_TRAIN.
NOTE: There were 2438 observations read from the data set EMWS1.IMPT_TRAIN.
NOTE: View WORK._BINNEDDATA.VIEW used (Total process time):
      real time           0.22 seconds
      cpu time            0.15 seconds
      
NOTE: There were 2438 observations read from the data set EMWS1.CLUS2_TRAIN.
NOTE: There were 2438 observations read from the data set WORK._BINNEDDATA.
NOTE: The data set WORK._TEMPTAB has 90 observations and 9 variables.
NOTE: PROCEDURE DMDB used (Total process time):
      real time           0.25 seconds
      cpu time            0.17 seconds
      


NOTE: There were 90 observations read from the data set WORK._TEMPTAB.
NOTE: The data set WORK._INTERVAL has 90 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      


NOTE: The file WORK._MINMAXDATA (memtype=(DATA VIEW)) was not found, but appears on a DELETE statement.
NOTE: Deleting WORK._TEMPTAB (memtype=DATA).
NOTE: Deleting WORK._BINNEDDATA (memtype=VIEW).

NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      


NOTE: There were 90 observations read from the data set WORK._INTERVAL.
NOTE: The data set WORK._INTERVAL has 90 observations and 6 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      


NOTE: Appending WORK._INTERVAL to EMWS1.PROF_INTDIST.
NOTE: BASE data set does not exist. DATA file is being copied to BASE file.
NOTE: There were 90 observations read from the data set WORK._INTERVAL.
NOTE: The data set EMWS1.PROF_INTDIST has 90 observations and 6 variables.
NOTE: PROCEDURE APPEND used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      


NOTE: Input data set is already sorted; it has been copied to the output data set.
NOTE: There were 7 observations read from the data set WORK._STAT.
NOTE: The data set WORK._STAT has 7 observations and 8 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.02 seconds
      cpu time            0.01 seconds
      


NOTE: There were 9 observations read from the data set EMWS1.PROF_STATS.
NOTE: There were 7 observations read from the data set WORK._STAT.
NOTE: The data set EMWS1.PROF_STATS has 9 observations and 15 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      


NOTE: The file X is:
      Catalog Name=EMWS1.PROF_INTERVAL.FORMAT.SOURCE,
      Catalog Page Size=4096,
      Number of Catalog Pages=4,
      Created=Sun, Dec  1, 2019 05:35:52 PM,
      Last Modified=Sun, Dec  1, 2019 05:35:52 PM,
      Filename=C:\Users\yinyen\Desktop\DataMiningProject3\SASEM_Project\Workspaces\EMWS1\prof_interval.sas7bcat,
      Release Created=9.0401M3,
      Host Created=X64_8HOME

NOTE: 9 records were written to the file X.
      The minimum record length was 1.
      The maximum record length was 26.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

*------------------------------------------------------------*
* Summarizing variables
* SEGMENT= _SEGMENT_
*------------------------------------------------------------*

NOTE: There were 2 observations read from the data set WORK._SEGMENT_.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      


NOTE: There were 9 observations read from the data set EMWS1.PROF_SELVARS.
      WHERE (SegmentVariable='_SEGMENT_') and (SegmentValue='2');
NOTE: The data set WORK._TEMPSTAT has 9 observations and 7 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      


NOTE: There were 9 observations read from the data set WORK._TEMPSTAT.
NOTE: The data set WORK._TEMPSTAT has 9 observations and 7 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

NOTE: %INCLUDE (level 1) file X is file EMWS1.PROF_INTERVAL.FORMAT.SOURCE.
16425 +format
16426 +IMP_domestic_gross F1_.
16427 +IMP_domestic_opening F2_.
16428 +IMP_foreign_gross F3_.
16429 +IMP_ss_count F4_.
16430 +IMP_total_gross F5_.
16431 +IMP_user_rating_count F6_.
16432 +tomatometer_count F7_.
16433 +;
NOTE: %INCLUDE (level 1) ending.

NOTE: DATA STEP view saved on file WORK.PROF_TMP.
NOTE: A stored DATA STEP view cannot run under a different operating system.
NOTE: View EMWS1.CLUS2_TRAIN.VIEW used (Total process time):
      real time           0.12 seconds
      cpu time            0.07 seconds
      
NOTE: DATA statement used (Total process time):
      real time           0.15 seconds
      cpu time            0.10 seconds
      


NOTE: The file _MAC is:
      Catalog Name=WORK.MACROS.VARIABLES.SOURCE,
      Catalog Page Size=4096,
      Number of Catalog Pages=5,
      Created=Sun, Dec  1, 2019 05:35:50 PM,
      Last Modified=Sun, Dec  1, 2019 05:35:50 PM,
      Filename=C:\Users\yinyen\AppData\Local\Temp\SAS Temporary Files\_TD1120_LAPTOP-8U87H5I4_\macros.sas7bcat,
      Release Created=9.0401M3,
      Host Created=X64_8HOME

NOTE: 2 records were written to the file _MAC.
      The minimum record length was 12.
      The maximum record length was 13.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

NOTE: %INCLUDE (level 1) file _MAC is file WORK.MACROS.VARIABLES.SOURCE.
16434 +%macro _vars;
16435 +%mend _vars;
NOTE: %INCLUDE (level 1) ending.
NOTE: Fileref _MAC has been deassigned.

NOTE: Variable _WARN_ is uninitialized.
NOTE: Records processed = 2287   Memory used = 511K.
NOTE: There were 2438 observations read from the data set EMWS1.PART_TRAIN.
NOTE: There were 2438 observations read from the data set EMWS1.GRFEXPL_TRAIN.
NOTE: There were 2438 observations read from the data set EMWS1.IMPT_TRAIN.
NOTE: View WORK.PROF_TMP.VIEW used (Total process time):
      real time           0.37 seconds
      cpu time            0.29 seconds
      
NOTE: There were 2287 observations read from the data set EMWS1.CLUS2_TRAIN.
      WHERE _SEGMENT_=2;
NOTE: There were 2287 observations read from the data set WORK.PROF_TMP.
NOTE: The data set WORK._TEMPCLASS has 4 observations and 9 variables.
NOTE: PROCEDURE DMDB used (Total process time):
      real time           0.43 seconds
      cpu time            0.32 seconds
      


NOTE: There were 4 observations read from the data set WORK._TEMPCLASS.
NOTE: The data set WORK._TEMPCLASS has 4 observations and 9 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.05 seconds
      cpu time            0.01 seconds
      


NOTE: There were 4 observations read from the data set WORK._TEMPCLASS.
NOTE: The data set WORK._CLASS has 4 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
      


NOTE: There were 4 observations read from the data set WORK._CLASS.
NOTE: The data set WORK._STAT has 3 observations and 4 variables.
NOTE: PROCEDURE MEANS used (Total process time):
      real time           0.02 seconds
      cpu time            0.01 seconds
      


NOTE: There were 2 observations read from the data set WORK._STAT.
      WHERE _TYPE_=1;
NOTE: The data set WORK._STAT has 2 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.02 seconds
      cpu time            0.01 seconds
      

NOTE: Deleting WORK._TEMPCLASS (memtype=DATA).
NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      


NOTE: There were 4 observations read from the data set WORK._CLASS.
NOTE: The data set WORK._CLASS has 4 observations and 6 variables.
NOTE: DATA statement used (Total process time):
      real time           0.02 seconds
      cpu time            0.01 seconds
      


NOTE: Appending WORK._CLASS to EMWS1.PROF_CLASSDIST.
NOTE: There were 4 observations read from the data set WORK._CLASS.
NOTE: 4 observations added.
NOTE: The data set EMWS1.PROF_CLASSDIST has 8 observations and 6 variables.
NOTE: PROCEDURE APPEND used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      


NOTE: There were 9 observations read from the data set WORK._TEMPSTAT.
NOTE: There were 2 observations read from the data set WORK._STAT.
NOTE: The data set WORK._TEMPSTAT has 9 observations and 8 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

*------------------------------------------------------------*
* Prof: Computing Summary Statistics
*------------------------------------------------------------*

NOTE: The file _MAC is:
      Catalog Name=WORK.MACROS.VARIABLES.SOURCE,
      Catalog Page Size=4096,
      Number of Catalog Pages=5,
      Created=Sun, Dec  1, 2019 05:35:50 PM,
      Last Modified=Sun, Dec  1, 2019 05:35:53 PM,
      Filename=C:\Users\yinyen\AppData\Local\Temp\SAS Temporary Files\_TD1120_LAPTOP-8U87H5I4_\macros.sas7bcat,
      Release Created=9.0401M3,
      Host Created=X64_8HOME

NOTE: 2 records were written to the file _MAC.
      The minimum record length was 12.
      The maximum record length was 13.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

NOTE: %INCLUDE (level 1) file _MAC is file WORK.MACROS.VARIABLES.SOURCE.
16436 +%macro _vars;
16437 +%mend _vars;
NOTE: %INCLUDE (level 1) ending.
NOTE: Fileref _MAC has been deassigned.

NOTE: The file WORK._BOUNDS (memtype=(DATA VIEW)) was not found, but appears on a DELETE statement.

NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      


NOTE: Variable _WARN_ is uninitialized.
NOTE: Records processed = 2287   Memory used = 511K.
NOTE: There were 2438 observations read from the data set EMWS1.PART_TRAIN.
NOTE: There were 2438 observations read from the data set EMWS1.GRFEXPL_TRAIN.
NOTE: There were 2438 observations read from the data set EMWS1.IMPT_TRAIN.
NOTE: View WORK.PROF_TMP.VIEW used (Total process time):
      real time           0.42 seconds
      cpu time            0.26 seconds
      
NOTE: There were 2287 observations read from the data set EMWS1.CLUS2_TRAIN.
      WHERE _SEGMENT_=2;
NOTE: There were 2287 observations read from the data set WORK.PROF_TMP.
NOTE: The data set WORK._STAT has 7 observations and 9 variables.
NOTE: PROCEDURE DMDB used (Total process time):
      real time           0.47 seconds
      cpu time            0.29 seconds
      


NOTE: There were 7 observations read from the data set WORK._STAT.
NOTE: The data set WORK._STAT has 7 observations and 9 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.02 seconds
      cpu time            0.00 seconds
      


NOTE: MODIFY was successful for WORK._STAT.DATA.

NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.05 seconds
      cpu time            0.01 seconds
      


NOTE: Variable _WARN_ is uninitialized.
NOTE: Records processed = 2287   Memory used = 511K.
NOTE: There were 2438 observations read from the data set EMWS1.PART_TRAIN.
NOTE: There were 2438 observations read from the data set EMWS1.GRFEXPL_TRAIN.
NOTE: There were 2438 observations read from the data set EMWS1.IMPT_TRAIN.
NOTE: View WORK.PROF_TMP.VIEW used (Total process time):
      real time           0.35 seconds
      cpu time            0.28 seconds
      
NOTE: There were 2287 observations read from the data set EMWS1.CLUS2_TRAIN.
      WHERE _SEGMENT_=2;
NOTE: There were 2287 observations read from the data set WORK.PROF_TMP.
NOTE: The data set WORK._TEMPTAB has 69 observations and 9 variables.
NOTE: PROCEDURE DMDB used (Total process time):
      real time           0.40 seconds
      cpu time            0.31 seconds
      


NOTE: There were 69 observations read from the data set WORK._TEMPTAB.
NOTE: The data set WORK._INTERVAL has 69 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
      


NOTE: The file WORK._BINNEDDATA (memtype=(DATA VIEW)) was not found, but appears on a DELETE statement.
NOTE: The file WORK._MINMAXDATA (memtype=(DATA VIEW)) was not found, but appears on a DELETE statement.
NOTE: Deleting WORK._TEMPTAB (memtype=DATA).

NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      


NOTE: There were 69 observations read from the data set WORK._INTERVAL.
NOTE: The data set WORK._INTERVAL has 69 observations and 6 variables.
NOTE: DATA statement used (Total process time):
      real time           0.02 seconds
      cpu time            0.01 seconds
      


NOTE: Appending WORK._INTERVAL to EMWS1.PROF_INTDIST.
NOTE: There were 69 observations read from the data set WORK._INTERVAL.
NOTE: 69 observations added.
NOTE: The data set EMWS1.PROF_INTDIST has 159 observations and 6 variables.
NOTE: PROCEDURE APPEND used (Total process time):
      real time           0.02 seconds
      cpu time            0.00 seconds
      


NOTE: Input data set is already sorted, no sorting done.
NOTE: There were 7 observations read from the data set WORK._STAT.
NOTE: The data set WORK._STAT has 7 observations and 8 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.02 seconds
      cpu time            0.00 seconds
      


NOTE: There were 9 observations read from the data set WORK._TEMPSTAT.
NOTE: There were 7 observations read from the data set WORK._STAT.
NOTE: The data set WORK._TEMPSTAT has 9 observations and 15 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      


NOTE: There were 9 observations read from the data set WORK._TEMPSTAT.
NOTE: The data set WORK._TEMPSTAT has 9 observations and 15 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      


NOTE: Appending WORK._TEMPSTAT to EMWS1.PROF_STATS.
NOTE: There were 9 observations read from the data set WORK._TEMPSTAT.
NOTE: 9 observations added.
NOTE: The data set EMWS1.PROF_STATS has 18 observations and 15 variables.
NOTE: PROCEDURE APPEND used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      


NOTE: The file WORK._SEGMENT (memtype=(DATA VIEW)) was not found, but appears on a DELETE statement.
NOTE: Deleting WORK.PROF_TMP (memtype=VIEW).
NOTE: Deleting WORK._INTERVAL (memtype=DATA).
NOTE: Deleting WORK._CLASS (memtype=DATA).
NOTE: Deleting WORK._TEMPSTAT (memtype=DATA).

NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.02 seconds
      cpu time            0.01 seconds
      


NOTE: There were 9 observations read from the data set EMWS1.PROF_SELVARS.
      WHERE (SegmentVariable='_SEGMENT_') and (SegmentValue='1');
NOTE: The data set WORK._TEMPSTAT has 9 observations and 7 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      


NOTE: There were 9 observations read from the data set WORK._TEMPSTAT.
NOTE: The data set WORK._TEMPSTAT has 9 observations and 7 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

NOTE: %INCLUDE (level 1) file X is file EMWS1.PROF_INTERVAL.FORMAT.SOURCE.
16438 +format
16439 +IMP_domestic_gross F1_.
16440 +IMP_domestic_opening F2_.
16441 +IMP_foreign_gross F3_.
16442 +IMP_ss_count F4_.
16443 +IMP_total_gross F5_.
16444 +IMP_user_rating_count F6_.
16445 +tomatometer_count F7_.
16446 +;
NOTE: %INCLUDE (level 1) ending.

NOTE: DATA STEP view saved on file WORK.PROF_TMP.
NOTE: A stored DATA STEP view cannot run under a different operating system.
NOTE: View EMWS1.CLUS2_TRAIN.VIEW used (Total process time):
      real time           0.14 seconds
      cpu time            0.09 seconds
      
NOTE: DATA statement used (Total process time):
      real time           0.16 seconds
      cpu time            0.10 seconds
      


NOTE: The file _MAC is:
      Catalog Name=WORK.MACROS.VARIABLES.SOURCE,
      Catalog Page Size=4096,
      Number of Catalog Pages=5,
      Created=Sun, Dec  1, 2019 05:35:50 PM,
      Last Modified=Sun, Dec  1, 2019 05:35:53 PM,
      Filename=C:\Users\yinyen\AppData\Local\Temp\SAS Temporary Files\_TD1120_LAPTOP-8U87H5I4_\macros.sas7bcat,
      Release Created=9.0401M3,
      Host Created=X64_8HOME

NOTE: 2 records were written to the file _MAC.
      The minimum record length was 12.
      The maximum record length was 13.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

NOTE: %INCLUDE (level 1) file _MAC is file WORK.MACROS.VARIABLES.SOURCE.
16447 +%macro _vars;
16448 +%mend _vars;
NOTE: %INCLUDE (level 1) ending.
NOTE: Fileref _MAC has been deassigned.

NOTE: Variable _WARN_ is uninitialized.
NOTE: Records processed = 151   Memory used = 511K.
NOTE: There were 2438 observations read from the data set EMWS1.PART_TRAIN.
NOTE: There were 2438 observations read from the data set EMWS1.GRFEXPL_TRAIN.
NOTE: There were 2438 observations read from the data set EMWS1.IMPT_TRAIN.
NOTE: View WORK.PROF_TMP.VIEW used (Total process time):
      real time           0.23 seconds
      cpu time            0.17 seconds
      
NOTE: There were 151 observations read from the data set EMWS1.CLUS2_TRAIN.
      WHERE _SEGMENT_=1;
NOTE: There were 151 observations read from the data set WORK.PROF_TMP.
NOTE: The data set WORK._TEMPCLASS has 4 observations and 9 variables.
NOTE: PROCEDURE DMDB used (Total process time):
      real time           0.26 seconds
      cpu time            0.20 seconds
      


NOTE: There were 4 observations read from the data set WORK._TEMPCLASS.
NOTE: The data set WORK._TEMPCLASS has 4 observations and 9 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      


NOTE: There were 4 observations read from the data set WORK._TEMPCLASS.
NOTE: The data set WORK._CLASS has 4 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      


NOTE: There were 4 observations read from the data set WORK._CLASS.
NOTE: The data set WORK._STAT has 3 observations and 4 variables.
NOTE: PROCEDURE MEANS used (Total process time):
      real time           0.01 seconds
      cpu time            0.03 seconds
      


NOTE: There were 2 observations read from the data set WORK._STAT.
      WHERE _TYPE_=1;
NOTE: The data set WORK._STAT has 2 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

NOTE: Deleting WORK._TEMPCLASS (memtype=DATA).
NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      


NOTE: There were 4 observations read from the data set WORK._CLASS.
NOTE: The data set WORK._CLASS has 4 observations and 6 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      


NOTE: Appending WORK._CLASS to EMWS1.PROF_CLASSDIST.
NOTE: There were 4 observations read from the data set WORK._CLASS.
NOTE: 4 observations added.
NOTE: The data set EMWS1.PROF_CLASSDIST has 12 observations and 6 variables.
NOTE: PROCEDURE APPEND used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      


NOTE: There were 9 observations read from the data set WORK._TEMPSTAT.
NOTE: There were 2 observations read from the data set WORK._STAT.
NOTE: The data set WORK._TEMPSTAT has 9 observations and 8 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

*------------------------------------------------------------*
* Prof: Computing Summary Statistics
*------------------------------------------------------------*

NOTE: The file _MAC is:
      Catalog Name=WORK.MACROS.VARIABLES.SOURCE,
      Catalog Page Size=4096,
      Number of Catalog Pages=5,
      Created=Sun, Dec  1, 2019 05:35:50 PM,
      Last Modified=Sun, Dec  1, 2019 05:35:55 PM,
      Filename=C:\Users\yinyen\AppData\Local\Temp\SAS Temporary Files\_TD1120_LAPTOP-8U87H5I4_\macros.sas7bcat,
      Release Created=9.0401M3,
      Host Created=X64_8HOME

NOTE: 2 records were written to the file _MAC.
      The minimum record length was 12.
      The maximum record length was 13.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

NOTE: %INCLUDE (level 1) file _MAC is file WORK.MACROS.VARIABLES.SOURCE.
16449 +%macro _vars;
16450 +%mend _vars;
NOTE: %INCLUDE (level 1) ending.
NOTE: Fileref _MAC has been deassigned.

NOTE: The file WORK._BOUNDS (memtype=(DATA VIEW)) was not found, but appears on a DELETE statement.

NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      


NOTE: Variable _WARN_ is uninitialized.
NOTE: Records processed = 151   Memory used = 511K.
NOTE: There were 2438 observations read from the data set EMWS1.PART_TRAIN.
NOTE: There were 2438 observations read from the data set EMWS1.GRFEXPL_TRAIN.
NOTE: There were 2438 observations read from the data set EMWS1.IMPT_TRAIN.
NOTE: View WORK.PROF_TMP.VIEW used (Total process time):
      real time           0.23 seconds
      cpu time            0.17 seconds
      
NOTE: There were 151 observations read from the data set EMWS1.CLUS2_TRAIN.
      WHERE _SEGMENT_=1;
NOTE: There were 151 observations read from the data set WORK.PROF_TMP.
NOTE: The data set WORK._STAT has 7 observations and 9 variables.
NOTE: PROCEDURE DMDB used (Total process time):
      real time           0.25 seconds
      cpu time            0.18 seconds
      


NOTE: There were 7 observations read from the data set WORK._STAT.
NOTE: The data set WORK._STAT has 7 observations and 9 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      


NOTE: MODIFY was successful for WORK._STAT.DATA.

NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.03 seconds
      cpu time            0.00 seconds
      


NOTE: Variable _WARN_ is uninitialized.
NOTE: Records processed = 151   Memory used = 511K.
NOTE: There were 2438 observations read from the data set EMWS1.PART_TRAIN.
NOTE: There were 2438 observations read from the data set EMWS1.GRFEXPL_TRAIN.
NOTE: There were 2438 observations read from the data set EMWS1.IMPT_TRAIN.
NOTE: View WORK.PROF_TMP.VIEW used (Total process time):
      real time           0.24 seconds
      cpu time            0.20 seconds
      
NOTE: There were 151 observations read from the data set EMWS1.CLUS2_TRAIN.
      WHERE _SEGMENT_=1;
NOTE: There were 151 observations read from the data set WORK.PROF_TMP.
NOTE: The data set WORK._TEMPTAB has 86 observations and 9 variables.
NOTE: PROCEDURE DMDB used (Total process time):
      real time           0.28 seconds
      cpu time            0.23 seconds
      


NOTE: There were 86 observations read from the data set WORK._TEMPTAB.
NOTE: The data set WORK._INTERVAL has 86 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.02 seconds
      cpu time            0.01 seconds
      


NOTE: The file WORK._BINNEDDATA (memtype=(DATA VIEW)) was not found, but appears on a DELETE statement.
NOTE: The file WORK._MINMAXDATA (memtype=(DATA VIEW)) was not found, but appears on a DELETE statement.
NOTE: Deleting WORK._TEMPTAB (memtype=DATA).

NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      


NOTE: There were 86 observations read from the data set WORK._INTERVAL.
NOTE: The data set WORK._INTERVAL has 86 observations and 6 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
      


NOTE: Appending WORK._INTERVAL to EMWS1.PROF_INTDIST.
NOTE: There were 86 observations read from the data set WORK._INTERVAL.
NOTE: 86 observations added.
NOTE: The data set EMWS1.PROF_INTDIST has 245 observations and 6 variables.
NOTE: PROCEDURE APPEND used (Total process time):
      real time           0.02 seconds
      cpu time            0.01 seconds
      


NOTE: Input data set is already sorted, no sorting done.
NOTE: There were 7 observations read from the data set WORK._STAT.
NOTE: The data set WORK._STAT has 7 observations and 8 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
      


NOTE: There were 9 observations read from the data set WORK._TEMPSTAT.
NOTE: There were 7 observations read from the data set WORK._STAT.
NOTE: The data set WORK._TEMPSTAT has 9 observations and 15 variables.
NOTE: DATA statement used (Total process time):
      real time           0.02 seconds
      cpu time            0.00 seconds
      


NOTE: There were 9 observations read from the data set WORK._TEMPSTAT.
NOTE: The data set WORK._TEMPSTAT has 9 observations and 15 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      


NOTE: Appending WORK._TEMPSTAT to EMWS1.PROF_STATS.
NOTE: There were 9 observations read from the data set WORK._TEMPSTAT.
NOTE: 9 observations added.
NOTE: The data set EMWS1.PROF_STATS has 27 observations and 15 variables.
NOTE: PROCEDURE APPEND used (Total process time):
      real time           0.02 seconds
      cpu time            0.00 seconds
      


NOTE: The file WORK._SEGMENT (memtype=(DATA VIEW)) was not found, but appears on a DELETE statement.
NOTE: Deleting WORK.PROF_TMP (memtype=VIEW).
NOTE: Deleting WORK._INTERVAL (memtype=DATA).
NOTE: Deleting WORK._CLASS (memtype=DATA).
NOTE: Deleting WORK._TEMPSTAT (memtype=DATA).

NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.02 seconds
      cpu time            0.00 seconds
      

NOTE: Fileref X has been deassigned.

NOTE: There were 245 observations read from the data set EMWS1.PROF_INTDIST.
NOTE: The data set EMWS1.PROF_INTDIST has 245 observations and 7 variables.
NOTE: DATA statement used (Total process time):
      real time           0.02 seconds
      cpu time            0.01 seconds
      


NOTE: There were 12 observations read from the data set EMWS1.PROF_CLASSDIST.
NOTE: The data set EMWS1.PROF_CLASSDIST has 12 observations and 7 variables.
NOTE: DATA statement used (Total process time):
      real time           0.02 seconds
      cpu time            0.01 seconds
      


NOTE: The data set WORK.EM_USER_REPORT has 132 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.07 seconds
      cpu time            0.06 seconds
      


NOTE: There were 18 observations read from the data set EMWS1.PROF_STATS.
      WHERE WORTH not = .;
NOTE: The data set EMWS1.PROF_WORTH has 18 observations and 15 variables.
NOTE: DATA statement used (Total process time):
      real time           0.02 seconds
      cpu time            0.01 seconds
      


NOTE: There were 132 observations read from the data set WORK.EM_USER_REPORT.
NOTE: The data set WORK.EM_USER_REPORT has 264 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.06 seconds
      cpu time            0.06 seconds
      


NOTE: There were 2 observations read from the data set EMWS1.PROF_SIZE.
NOTE: The data set EMWS1.PROF_SIZE has 2 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.02 seconds
      cpu time            0.03 seconds
      


NOTE: There were 264 observations read from the data set WORK.EM_USER_REPORT.
NOTE: The data set WORK.EM_USER_REPORT has 397 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.07 seconds
      cpu time            0.06 seconds
      


NOTE: There were 397 observations read from the data set WORK.EM_USER_REPORT.
NOTE: The data set WORK.EM_USER_REPORT has 529 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.07 seconds
      cpu time            0.04 seconds
      


NOTE: There were 529 observations read from the data set WORK.EM_USER_REPORT.
NOTE: The data set WORK.EM_USER_REPORT has 661 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.06 seconds
      cpu time            0.06 seconds
      


NOTE: There were 661 observations read from the data set WORK.EM_USER_REPORT.
NOTE: The data set WORK.EM_USER_REPORT has 793 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.05 seconds
      cpu time            0.03 seconds
      


NOTE: There were 793 observations read from the data set WORK.EM_USER_REPORT.
NOTE: The data set WORK.EM_USER_REPORT has 925 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.09 seconds
      cpu time            0.04 seconds
      


NOTE: The file EMWS1._SUMMARYVARS (memtype=DATA) was not found, but appears on a DELETE statement.
NOTE: The file EMWS1.DATA_STAT (memtype=DATA) was not found, but appears on a DELETE statement.
NOTE: The file EMWS1.PROF_MACS (memtype=CATALOG) was not found, but appears on a DELETE statement.
NOTE: Deleting EMWS1.PROF_SELVARS (memtype=DATA).
NOTE: Deleting EMWS1.PROF_INTERVAL (memtype=CATALOG).
16451  *------------------------------------------------------------*;
16452  * End TRAIN: Prof;
16453  *------------------------------------------------------------*;
16454  *------------------------------------------------------------*;
16455  * Close any missing semi colons;
16456  *------------------------------------------------------------*;
16457  ;
16458  ;
16459  ;
16460  ;
16461  quit;

NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
      

16462  *------------------------------------------------------------*;
16463  * Close any unbalanced quotes;
16464  *------------------------------------------------------------*;
16465  /*; *"; *'; */
16466  ;
16467  run;
16468  quit;
16469  /* Reset EM Options */
16470  options formchar="|----|+|---+=|-/\<>*";
16471  options nocenter ls=256 ps=10000;
16472  goptions reset=all device=GIF NODISPLAY;

16473  proc sort data=WORK.EM_USER_REPORT;
16474  by ID VIEW;
16475  run;

NOTE: There were 925 observations read from the data set WORK.EM_USER_REPORT.
NOTE: The data set WORK.EM_USER_REPORT has 925 observations and 4 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.02 seconds
      cpu time            0.01 seconds
      

16476  proc freq data=EMWS1.Prof_WORTH noprint order=data;
16477  table SEGMENTVARIABLE/ out=WORK.REPORTVALUE;
16478  run;

NOTE: There were 18 observations read from the data set EMWS1.PROF_WORTH.
NOTE: The data set WORK.REPORTVALUE has 1 observations and 3 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
      

16479  proc freq data=EMWS1.Prof_SIZE noprint order=data;
16480  table SEGMENTVARIABLE/ out=WORK.REPORTVALUE;
16481  run;

NOTE: There were 2 observations read from the data set EMWS1.PROF_SIZE.
NOTE: The data set WORK.REPORTVALUE has 1 observations and 3 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           0.03 seconds
      cpu time            0.00 seconds
      

